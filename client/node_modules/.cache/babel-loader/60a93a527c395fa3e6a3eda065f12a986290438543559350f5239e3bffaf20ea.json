{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _index = _interopRequireDefault(require(\"./index\"));\nvar _Utils = _interopRequireDefault(require(\"./Utils\"));\nvar _Pricing = _interopRequireDefault(require(\"./Pricing\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nclass Number {\n  static get PATH() {\n    return \"/number\";\n  }\n  static get ERROR_MESSAGES() {\n    return {\n      optionsNotAnObject: \"Options parameter should be a dictionary. Check the docs for valid properties for options\",\n      countrycode: \"Invalid Country Code\",\n      msisdn: \"Invalid MSISDN passed\"\n    };\n  }\n  /**\n   * @param {Credentials} credentials\n   *    credentials to be used when interacting with the API.\n   * @param {Object} options\n   *    Addition Number options.\n   */\n\n  constructor(credentials) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.creds = credentials;\n    this.options = options;\n    this._pricing = new _Pricing.default(credentials, options); // Used to facilitate testing of the call to the underlying object\n\n    this._vonage = this.options.vonageOverride || _index.default;\n    this._vonage.initialize(this.creds.apiKey, this.creds.apiSecret, this.options);\n  }\n  /**\n   * TODO: remove with next major release\n   */\n\n  getPricing() {\n    this._pricing.get.apply(this, arguments);\n  }\n  /**\n   * TODO: remove with next major release\n   */\n\n  getPhonePricing() {\n    this._pricing.getPhone.apply(this, arguments);\n  }\n  /**\n   * TODO: document\n   */\n\n  get(options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    } else if (typeof options !== \"object\") {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.optionsNotAnObject));\n    }\n    options.api_key = options.api_key || this.creds.apiKey;\n    options.api_secret = options.api_secret || this.creds.apiSecret;\n    this.options.httpClient.request({\n      path: _Utils.default.createPathWithQuery(\"/account\".concat(Number.PATH, \"s\"), options)\n    }, callback);\n  }\n  /**\n   * TODO: document\n   */\n\n  search(countryCode, pattern, callback) {\n    var params = {\n      api_key: this.creds.apiKey,\n      api_secret: this.creds.apiSecret\n    };\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else {\n      params[\"country\"] = countryCode;\n      if (typeof pattern === \"function\") {\n        callback = pattern;\n      } else if (typeof pattern === \"object\") {\n        for (var arg in pattern) {\n          params[arg] = pattern[arg];\n        }\n      } else {\n        params[\"pattern\"] = pattern;\n      }\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/search\"), params)\n      }, callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n  buy(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      var opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret\n      };\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n      var path = _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/buy\"), opts);\n      this.options.httpClient.request({\n        path: path\n      }, \"POST\", callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n  cancel(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      var opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret\n      };\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/cancel\"), opts)\n      }, \"POST\", callback);\n    }\n  }\n  /**\n   * TODO: document\n   */\n\n  update(countryCode, msisdn, params, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      _Utils.default.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      params[\"country\"] = countryCode;\n      params[\"msisdn\"] = msisdn;\n      params[\"api_key\"] = this.creds.apiKey;\n      params[\"api_secret\"] = this.creds.apiSecret;\n      this.options.httpClient.request({\n        path: _Utils.default.createPathWithQuery(\"\".concat(Number.PATH, \"/update\"), params)\n      }, \"POST\", callback);\n    }\n  }\n}\nvar _default = Number;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"names":["_index","_interopRequireDefault","require","_Utils","_Pricing","Number","PATH","ERROR_MESSAGES","optionsNotAnObject","countrycode","msisdn","constructor","credentials","options","arguments","length","undefined","creds","_pricing","default","_vonage","vonageOverride","initialize","apiKey","apiSecret","getPricing","get","apply","getPhonePricing","getPhone","callback","sendError","Error","api_key","api_secret","httpClient","request","path","createPathWithQuery","concat","search","countryCode","pattern","params","arg","buy","targetApiKey","opts","country","Function","target_api_key","cancel","update"],"sources":["/Users/vineetkhodre/react-workspace/thoughtctlchatapp/node_modules/@vonage/server-sdk/src/Number.js"],"sourcesContent":["\"use strict\";\n\nimport vonage from \"./index\";\nimport Utils from \"./Utils\";\nimport Pricing from \"./Pricing\";\n\nclass Number {\n  static get PATH() {\n    return \"/number\";\n  }\n\n  static get ERROR_MESSAGES() {\n    return {\n      optionsNotAnObject:\n        \"Options parameter should be a dictionary. Check the docs for valid properties for options\",\n      countrycode: \"Invalid Country Code\",\n      msisdn: \"Invalid MSISDN passed\",\n    };\n  }\n  /**\n   * @param {Credentials} credentials\n   *    credentials to be used when interacting with the API.\n   * @param {Object} options\n   *    Addition Number options.\n   */\n  constructor(credentials, options = {}) {\n    this.creds = credentials;\n    this.options = options;\n\n    this._pricing = new Pricing(credentials, options);\n\n    // Used to facilitate testing of the call to the underlying object\n    this._vonage = this.options.vonageOverride || vonage;\n\n    this._vonage.initialize(\n      this.creds.apiKey,\n      this.creds.apiSecret,\n      this.options\n    );\n  }\n\n  /**\n   * TODO: remove with next major release\n   */\n  getPricing() {\n    this._pricing.get.apply(this, arguments);\n  }\n\n  /**\n   * TODO: remove with next major release\n   */\n  getPhonePricing() {\n    this._pricing.getPhone.apply(this, arguments);\n  }\n\n  /**\n   * TODO: document\n   */\n  get(options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    } else if (typeof options !== \"object\") {\n      Utils.sendError(\n        callback,\n        new Error(Number.ERROR_MESSAGES.optionsNotAnObject)\n      );\n    }\n\n    options.api_key = options.api_key || this.creds.apiKey;\n    options.api_secret = options.api_secret || this.creds.apiSecret;\n\n    this.options.httpClient.request(\n      {\n        path: Utils.createPathWithQuery(`/account${Number.PATH}s`, options),\n      },\n      callback\n    );\n  }\n\n  /**\n   * TODO: document\n   */\n  search(countryCode, pattern, callback) {\n    let params = {\n      api_key: this.creds.apiKey,\n      api_secret: this.creds.apiSecret,\n    };\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else {\n      params[\"country\"] = countryCode;\n      if (typeof pattern === \"function\") {\n        callback = pattern;\n      } else if (typeof pattern === \"object\") {\n        for (var arg in pattern) {\n          params[arg] = pattern[arg];\n        }\n      } else {\n        params[\"pattern\"] = pattern;\n      }\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/search`, params),\n        },\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  buy(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      let opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret,\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      const path = Utils.createPathWithQuery(`${Number.PATH}/buy`, opts);\n      this.options.httpClient.request(\n        {\n          path: path,\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  cancel(countryCode, msisdn, targetApiKey, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      let opts = {\n        country: countryCode,\n        msisdn,\n        api_key: this.creds.apiKey,\n        api_secret: this.creds.apiSecret,\n      };\n\n      if (targetApiKey instanceof Function) {\n        callback = targetApiKey;\n      } else {\n        opts.target_api_key = targetApiKey;\n      }\n\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/cancel`, opts),\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n\n  /**\n   * TODO: document\n   */\n  update(countryCode, msisdn, params, callback) {\n    if (!countryCode || countryCode.length !== 2) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.countrycode));\n    } else if (!msisdn) {\n      Utils.sendError(callback, new Error(Number.ERROR_MESSAGES.msisdn));\n    } else {\n      params[\"country\"] = countryCode;\n      params[\"msisdn\"] = msisdn;\n      params[\"api_key\"] = this.creds.apiKey;\n      params[\"api_secret\"] = this.creds.apiSecret;\n\n      this.options.httpClient.request(\n        {\n          path: Utils.createPathWithQuery(`${Number.PATH}/update`, params),\n        },\n        \"POST\",\n        callback\n      );\n    }\n  }\n}\n\nexport default Number;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}