{"ast":null,"code":"'use strict';\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst is_ip_1 = __importDefault(require(\"is-ip\"));\nclass CancelError extends Error {\n  constructor() {\n    super('Request was cancelled');\n    this.name = 'CancelError';\n  }\n  get isCanceled() {\n    return true;\n  }\n}\nconst defaults = {\n  timeout: 5000\n};\nconst urls = {\n  v4: ['https://ipv4.icanhazip.com/', 'https://api.ipify.org/'],\n  v6: ['https://ipv6.icanhazip.com/', 'https://api6.ipify.org/']\n};\nconst sendXhr = (url, options, version) => {\n  const xhr = new XMLHttpRequest();\n  let _reject;\n  const promise = new Promise((resolve, reject) => {\n    _reject = reject;\n    xhr.addEventListener('error', reject, {\n      once: true\n    });\n    xhr.addEventListener('timeout', reject, {\n      once: true\n    });\n    xhr.addEventListener('load', () => {\n      const ip = xhr.responseText.trim();\n      if (!ip || version === 'v4' ? !is_ip_1.default.v4(ip) : !is_ip_1.default.v6(ip)) {\n        reject();\n        return;\n      }\n      resolve(ip);\n    }, {\n      once: true\n    });\n    xhr.open('GET', url);\n    xhr.timeout = options.timeout;\n    xhr.send();\n  });\n  // promise.cancel = () => {\n  // \txhr.abort();\n  // \t_reject(new CancelError());\n  // };\n  return promise;\n};\nconst queryHttps = (version, options) => {\n  let request;\n  const promise = async function () {\n    const urls_ = [].concat.apply(urls[version], options.fallbackUrls || []);\n    for (const url of urls_) {\n      try {\n        request = sendXhr(url, options, version);\n        const ip = await request;\n        return ip;\n      } catch (error) {\n        if (error instanceof CancelError) {\n          throw error;\n        }\n      }\n    }\n    throw new Error('Couldn\\'t find your IP');\n  }();\n  // promise.cancel = () => {\n  // \trequest.cancel();\n  // };\n  return promise;\n};\nclass PublicIp {}\nexports.default = PublicIp;\nPublicIp.v4 = options => queryHttps('v4', {\n  ...defaults,\n  ...options\n});\nPublicIp.v6 = options => queryHttps('v6', {\n  ...defaults,\n  ...options\n});\nmodule.exports = PublicIp;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","is_ip_1","require","CancelError","Error","constructor","name","isCanceled","defaults","timeout","urls","v4","v6","sendXhr","url","options","version","xhr","XMLHttpRequest","_reject","promise","Promise","resolve","reject","addEventListener","once","ip","responseText","trim","default","open","send","queryHttps","request","urls_","concat","apply","fallbackUrls","error","PublicIp","module"],"sources":["/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/nexmo-client/dist/modules/publicip.js"],"sourcesContent":["'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_ip_1 = __importDefault(require(\"is-ip\"));\nclass CancelError extends Error {\n    constructor() {\n        super('Request was cancelled');\n        this.name = 'CancelError';\n    }\n    get isCanceled() {\n        return true;\n    }\n}\nconst defaults = {\n    timeout: 5000\n};\nconst urls = {\n    v4: [\n        'https://ipv4.icanhazip.com/',\n        'https://api.ipify.org/'\n    ],\n    v6: [\n        'https://ipv6.icanhazip.com/',\n        'https://api6.ipify.org/'\n    ]\n};\nconst sendXhr = (url, options, version) => {\n    const xhr = new XMLHttpRequest();\n    let _reject;\n    const promise = new Promise((resolve, reject) => {\n        _reject = reject;\n        xhr.addEventListener('error', reject, { once: true });\n        xhr.addEventListener('timeout', reject, { once: true });\n        xhr.addEventListener('load', () => {\n            const ip = xhr.responseText.trim();\n            if (!ip || version === 'v4' ? !is_ip_1.default.v4(ip) : !is_ip_1.default.v6(ip)) {\n                reject();\n                return;\n            }\n            resolve(ip);\n        }, { once: true });\n        xhr.open('GET', url);\n        xhr.timeout = options.timeout;\n        xhr.send();\n    });\n    // promise.cancel = () => {\n    // \txhr.abort();\n    // \t_reject(new CancelError());\n    // };\n    return promise;\n};\nconst queryHttps = (version, options) => {\n    let request;\n    const promise = (async function () {\n        const urls_ = [].concat.apply(urls[version], options.fallbackUrls || []);\n        for (const url of urls_) {\n            try {\n                request = sendXhr(url, options, version);\n                const ip = await request;\n                return ip;\n            }\n            catch (error) {\n                if (error instanceof CancelError) {\n                    throw error;\n                }\n            }\n        }\n        throw new Error('Couldn\\'t find your IP');\n    })();\n    // promise.cancel = () => {\n    // \trequest.cancel();\n    // };\n    return promise;\n};\nclass PublicIp {\n}\nexports.default = PublicIp;\nPublicIp.v4 = (options) => queryHttps('v4', { ...defaults, ...options });\nPublicIp.v6 = (options) => queryHttps('v6', { ...defaults, ...options });\nmodule.exports = PublicIp;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}