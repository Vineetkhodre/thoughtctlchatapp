{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n    g.bugsnag = f();\n  }\n})(function () {\n  var define, module, exports;\n  // minimal implementations of useful ES functionality\n  // all we really need for arrays is reduce – everything else is just sugar!\n  // Array#reduce\n  var reduce = function (arr, fn, accum) {\n    var val = accum;\n    for (var i = 0, len = arr.length; i < len; i++) {\n      val = fn(val, arr[i], i, arr);\n    }\n    return val;\n  }; // Array#filter\n\n  var filter = function (arr, fn) {\n    return reduce(arr, function (accum, item, i, arr) {\n      return !fn(item, i, arr) ? accum : accum.concat(item);\n    }, []);\n  }; // Array#map\n\n  var map = function (arr, fn) {\n    return reduce(arr, function (accum, item, i, arr) {\n      return accum.concat(fn(item, i, arr));\n    }, []);\n  }; // Array#includes\n\n  var includes = function (arr, x) {\n    return reduce(arr, function (accum, item, i, arr) {\n      return accum === true || item === x;\n    }, false);\n  };\n  var _hasDontEnumBug = !{\n    toString: null\n  }.propertyIsEnumerable('toString');\n  var _dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor']; // Object#keys\n\n  var keys = function (obj) {\n    // stripped down version of\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n    var result = [];\n    var prop;\n    for (prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop);\n    }\n    if (!_hasDontEnumBug) return result;\n    for (var i = 0, len = _dontEnums.length; i < len; i++) {\n      if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i]);\n    }\n    return result;\n  }; // Array#isArray\n\n  var isArray = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n  var _pad = function (n) {\n    return n < 10 ? \"0\" + n : n;\n  }; // Date#toISOString\n\n  var isoDate = function () {\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\n    var d = new Date();\n    return d.getUTCFullYear() + '-' + _pad(d.getUTCMonth() + 1) + '-' + _pad(d.getUTCDate()) + 'T' + _pad(d.getUTCHours()) + ':' + _pad(d.getUTCMinutes()) + ':' + _pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n  };\n  var _$esUtils_8 = {\n    map: map,\n    reduce: reduce,\n    filter: filter,\n    includes: includes,\n    keys: keys,\n    isArray: isArray,\n    isoDate: isoDate\n  };\n  var _$validators_15 = {};\n  _$validators_15.intRange = function (min, max) {\n    if (min === void 0) {\n      min = 1;\n    }\n    if (max === void 0) {\n      max = Infinity;\n    }\n    return function (value) {\n      return typeof value === 'number' && parseInt('' + value, 10) === value && value >= min && value <= max;\n    };\n  };\n  _$validators_15.stringWithLength = function (value) {\n    return typeof value === 'string' && !!value.length;\n  };\n  var _$config_5 = {};\n  var __filter_5 = _$esUtils_8.filter,\n    __reduce_5 = _$esUtils_8.reduce,\n    __keys_5 = _$esUtils_8.keys,\n    __isArray_5 = _$esUtils_8.isArray,\n    __includes_5 = _$esUtils_8.includes;\n  var intRange = _$validators_15.intRange,\n    stringWithLength = _$validators_15.stringWithLength;\n  _$config_5.schema = {\n    apiKey: {\n      defaultValue: function () {\n        return null;\n      },\n      message: 'is required',\n      validate: stringWithLength\n    },\n    appVersion: {\n      defaultValue: function () {\n        return null;\n      },\n      message: 'should be a string',\n      validate: function (value) {\n        return value === null || stringWithLength(value);\n      }\n    },\n    appType: {\n      defaultValue: function () {\n        return null;\n      },\n      message: 'should be a string',\n      validate: function (value) {\n        return value === null || stringWithLength(value);\n      }\n    },\n    autoNotify: {\n      defaultValue: function () {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function (value) {\n        return value === true || value === false;\n      }\n    },\n    beforeSend: {\n      defaultValue: function () {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: function (value) {\n        return typeof value === 'function' || __isArray_5(value) && __filter_5(value, function (f) {\n          return typeof f === 'function';\n        }).length === value.length;\n      }\n    },\n    endpoints: {\n      defaultValue: function () {\n        return {\n          notify: 'https://notify.bugsnag.com',\n          sessions: 'https://sessions.bugsnag.com'\n        };\n      },\n      message: 'should be an object containing endpoint URLs { notify, sessions }. sessions is optional if autoCaptureSessions=false',\n      validate: function (val, obj) {\n        return (\n          // first, ensure it's an object\n          val && typeof val === 'object' &&\n          // endpoints.notify must always be set\n          stringWithLength(val.notify) && (\n          // endpoints.sessions must be set unless session tracking is explicitly off\n          obj.autoCaptureSessions === false || stringWithLength(val.sessions)) &&\n          // ensure no keys other than notify/session are set on endpoints object\n          __filter_5(__keys_5(val), function (k) {\n            return !__includes_5(['notify', 'sessions'], k);\n          }).length === 0\n        );\n      }\n    },\n    autoCaptureSessions: {\n      defaultValue: function (val, opts) {\n        return opts.endpoints === undefined || !!opts.endpoints && !!opts.endpoints.sessions;\n      },\n      message: 'should be true|false',\n      validate: function (val) {\n        return val === true || val === false;\n      }\n    },\n    notifyReleaseStages: {\n      defaultValue: function () {\n        return null;\n      },\n      message: 'should be an array of strings',\n      validate: function (value) {\n        return value === null || __isArray_5(value) && __filter_5(value, function (f) {\n          return typeof f === 'string';\n        }).length === value.length;\n      }\n    },\n    releaseStage: {\n      defaultValue: function () {\n        return 'production';\n      },\n      message: 'should be a string',\n      validate: function (value) {\n        return typeof value === 'string' && value.length;\n      }\n    },\n    maxBreadcrumbs: {\n      defaultValue: function () {\n        return 20;\n      },\n      message: 'should be a number ≤40',\n      validate: function (value) {\n        return intRange(0, 40)(value);\n      }\n    },\n    autoBreadcrumbs: {\n      defaultValue: function () {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function (value) {\n        return typeof value === 'boolean';\n      }\n    },\n    user: {\n      defaultValue: function () {\n        return null;\n      },\n      message: '(object) user should be an object',\n      validate: function (value) {\n        return typeof value === 'object';\n      }\n    },\n    metaData: {\n      defaultValue: function () {\n        return null;\n      },\n      message: 'should be an object',\n      validate: function (value) {\n        return typeof value === 'object';\n      }\n    },\n    logger: {\n      defaultValue: function () {\n        return undefined;\n      },\n      message: 'should be null or an object with methods { debug, info, warn, error }',\n      validate: function (value) {\n        return !value || value && __reduce_5(['debug', 'info', 'warn', 'error'], function (accum, method) {\n          return accum && typeof value[method] === 'function';\n        }, true);\n      }\n    },\n    filters: {\n      defaultValue: function () {\n        return ['password'];\n      },\n      message: 'should be an array of strings|regexes',\n      validate: function (value) {\n        return __isArray_5(value) && value.length === __filter_5(value, function (s) {\n          return typeof s === 'string' || s && typeof s.test === 'function';\n        }).length;\n      }\n    }\n  };\n  _$config_5.mergeDefaults = function (opts, schema) {\n    if (!opts || !schema) throw new Error('opts and schema objects are required');\n    return __reduce_5(__keys_5(schema), function (accum, key) {\n      accum[key] = opts[key] !== undefined ? opts[key] : schema[key].defaultValue(opts[key], opts);\n      return accum;\n    }, {});\n  };\n  _$config_5.validate = function (opts, schema) {\n    if (!opts || !schema) throw new Error('opts and schema objects are required');\n    var errors = __reduce_5(__keys_5(schema), function (accum, key) {\n      if (schema[key].validate(opts[key], opts)) return accum;\n      return accum.concat({\n        key: key,\n        message: schema[key].message,\n        value: opts[key]\n      });\n    }, []);\n    return {\n      valid: !errors.length,\n      errors: errors\n    };\n  };\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n  var schema = _$config_5.schema;\n  var __map_1 = _$esUtils_8.map;\n  var __stringWithLength_1 = _$validators_15.stringWithLength;\n  var _$config_1 = {\n    releaseStage: {\n      defaultValue: function () {\n        if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development';\n        return 'production';\n      },\n      message: 'should be set',\n      validate: __stringWithLength_1\n    },\n    logger: _extends({}, schema.logger, {\n      defaultValue: function () {\n        return (\n          // set logger based on browser capability\n          typeof console !== 'undefined' && typeof console.debug === 'function' ? getPrefixedConsole() : undefined\n        );\n      }\n    })\n  };\n  var getPrefixedConsole = function () {\n    var logger = {};\n    var consoleLog = console['log'];\n    __map_1(['debug', 'info', 'warn', 'error'], function (method) {\n      var consoleMethod = console[method];\n      logger[method] = typeof consoleMethod === 'function' ? consoleMethod.bind(console, '[bugsnag]') : consoleLog.bind(console, '[bugsnag]');\n    });\n    return logger;\n  };\n  var __isoDate_3 = _$esUtils_8.isoDate;\n  var BugsnagBreadcrumb = /*#__PURE__*/\n  function () {\n    function BugsnagBreadcrumb(name, metaData, type, timestamp) {\n      if (name === void 0) {\n        name = '[anonymous]';\n      }\n      if (metaData === void 0) {\n        metaData = {};\n      }\n      if (type === void 0) {\n        type = 'manual';\n      }\n      if (timestamp === void 0) {\n        timestamp = __isoDate_3();\n      }\n      this.type = type;\n      this.name = name;\n      this.metaData = metaData;\n      this.timestamp = timestamp;\n    }\n    var _proto = BugsnagBreadcrumb.prototype;\n    _proto.toJSON = function toJSON() {\n      return {\n        type: this.type,\n        name: this.name,\n        timestamp: this.timestamp,\n        metaData: this.metaData\n      };\n    };\n    return BugsnagBreadcrumb;\n  }();\n  var _$BugsnagBreadcrumb_3 = BugsnagBreadcrumb;\n\n  // This is a heavily modified/simplified version of\n  //   https://github.com/othiym23/async-some\n  //\n  // We can't use that because:\n  //   a) it inflates the bundle size to over 10kB\n  //   b) it depends on a module that uses Object.keys()\n  //      (which we can't use due to ie8 support)\n  // run the asynchronous test function (fn) over each item in the array (arr)\n  // in series until:\n  //   - fn(item, cb) => calls cb(null, true)\n  //   - or the end of the array is reached\n  // the callback (cb) will be passed true if any of the items resulted in a true\n  // callback, otherwise false\n  var _$asyncSome_6 = function (arr, fn, cb) {\n    var length = arr.length;\n    var index = 0;\n    var next = function () {\n      if (index >= length) return cb(null, false);\n      fn(arr[index], function (err, result) {\n        if (err) return cb(err, false);\n        if (result === true) return cb(null, true);\n        index++;\n        next();\n      });\n    };\n    next();\n  };\n  var _$inferReleaseStage_10 = function (client) {\n    return client.app && typeof client.app.releaseStage === 'string' ? client.app.releaseStage : client.config.releaseStage;\n  };\n\n  /**\n   * Expose `isError`.\n   */\n  var _$isError_21 = isError;\n  /**\n   * Test whether `value` is error object.\n   *\n   * @param {*} value\n   * @returns {boolean}\n   */\n\n  function isError(value) {\n    switch (Object.prototype.toString.call(value)) {\n      case '[object Error]':\n        return true;\n      case '[object Exception]':\n        return true;\n      case '[object DOMException]':\n        return true;\n      default:\n        return value instanceof Error;\n    }\n  }\n  var _$iserror_11 = _$isError_21;\n  var _$runBeforeSend_14 = function (report, onError) {\n    return function (fn, cb) {\n      if (typeof fn !== 'function') return cb(null, false);\n      try {\n        // if function appears sync…\n        if (fn.length !== 2) {\n          var ret = fn(report); // check if it returned a \"thenable\" (promise)\n\n          if (ret && typeof ret.then === 'function') {\n            return ret.then(\n            // resolve\n            function (val) {\n              return setTimeout(function () {\n                return cb(null, shouldPreventSend(report, val));\n              }, 0);\n            },\n            // reject\n            function (err) {\n              setTimeout(function () {\n                onError(err);\n                return cb(null, false);\n              });\n            });\n          }\n          return cb(null, shouldPreventSend(report, ret));\n        } // if function is async…\n\n        fn(report, function (err, result) {\n          if (err) {\n            onError(err);\n            return cb(null, false);\n          }\n          cb(null, shouldPreventSend(report, result));\n        });\n      } catch (e) {\n        onError(e);\n        cb(null, false);\n      }\n    };\n  };\n  var shouldPreventSend = function (report, value) {\n    return report.isIgnored() || value === false;\n  };\n  var _$stackframe_23 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('stackframe', [], factory);\n    } else if (typeof _$stackframe_23 === 'object') {\n      _$stackframe_23 = factory();\n    } else {\n      root.StackFrame = factory();\n    }\n  })(this, function () {\n    'use strict';\n\n    function _isNumber(n) {\n      return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n    function _capitalize(str) {\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n    function _getter(p) {\n      return function () {\n        return this[p];\n      };\n    }\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n    function StackFrame(obj) {\n      if (obj instanceof Object) {\n        for (var i = 0; i < props.length; i++) {\n          if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n            this['set' + _capitalize(props[i])](obj[props[i]]);\n          }\n        }\n      }\n    }\n    StackFrame.prototype = {\n      getArgs: function () {\n        return this.args;\n      },\n      setArgs: function (v) {\n        if (Object.prototype.toString.call(v) !== '[object Array]') {\n          throw new TypeError('Args must be an Array');\n        }\n        this.args = v;\n      },\n      getEvalOrigin: function () {\n        return this.evalOrigin;\n      },\n      setEvalOrigin: function (v) {\n        if (v instanceof StackFrame) {\n          this.evalOrigin = v;\n        } else if (v instanceof Object) {\n          this.evalOrigin = new StackFrame(v);\n        } else {\n          throw new TypeError('Eval Origin must be an Object or StackFrame');\n        }\n      },\n      toString: function () {\n        var functionName = this.getFunctionName() || '{anonymous}';\n        var args = '(' + (this.getArgs() || []).join(',') + ')';\n        var fileName = this.getFileName() ? '@' + this.getFileName() : '';\n        var lineNumber = _isNumber(this.getLineNumber()) ? ':' + this.getLineNumber() : '';\n        var columnNumber = _isNumber(this.getColumnNumber()) ? ':' + this.getColumnNumber() : '';\n        return functionName + args + fileName + lineNumber + columnNumber;\n      }\n    };\n    for (var i = 0; i < booleanProps.length; i++) {\n      StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n      StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n        return function (v) {\n          this[p] = Boolean(v);\n        };\n      }(booleanProps[i]);\n    }\n    for (var j = 0; j < numericProps.length; j++) {\n      StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n      StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n        return function (v) {\n          if (!_isNumber(v)) {\n            throw new TypeError(p + ' must be a Number');\n          }\n          this[p] = Number(v);\n        };\n      }(numericProps[j]);\n    }\n    for (var k = 0; k < stringProps.length; k++) {\n      StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n      StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n        return function (v) {\n          this[p] = String(v);\n        };\n      }(stringProps[k]);\n    }\n    return StackFrame;\n  });\n  var _$errorStackParser_20 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof _$errorStackParser_20 === 'object') {\n      _$errorStackParser_20 = factory(_$stackframe_23);\n    } else {\n      root.ErrorStackParser = factory(root.StackFrame);\n    }\n  })(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n    return {\n      /**\n       * Given an Error object, extract the most information from it.\n       *\n       * @param {Error} error object\n       * @return {Array} of StackFrames\n       */\n      parse: function ErrorStackParser$$parse(error) {\n        if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n          return this.parseOpera(error);\n        } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n          return this.parseV8OrIE(error);\n        } else if (error.stack) {\n          return this.parseFFOrSafari(error);\n        } else {\n          throw new Error('Cannot parse given Error object');\n        }\n      },\n      // Separate line and column numbers from a string of the form: (URI:Line:Column)\n      extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n        // Fail-fast but return locations like \"(native)\"\n        if (urlLike.indexOf(':') === -1) {\n          return [urlLike];\n        }\n        var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n        var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n        return [parts[1], parts[2] || undefined, parts[3] || undefined];\n      },\n      parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(CHROME_IE_STACK_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          if (line.indexOf('(eval ') > -1) {\n            // Throw away eval information until we implement stacktrace.js/stackframe#8\n            line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n          }\n          var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '('); // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n          // case it has spaces in it, as the string is split on \\s+ later on\n\n          var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/); // remove the parenthesized location from the line, if it was matched\n\n          sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n          var tokens = sanitizedLine.split(/\\s+/).slice(1); // if a location was matched, pass it to extractLocation() otherwise pop the last token\n\n          var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n          var functionName = tokens.join(' ') || undefined;\n          var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n          return new StackFrame({\n            functionName: functionName,\n            fileName: fileName,\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      },\n      parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          if (line.indexOf(' > eval') > -1) {\n            line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n          }\n          if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n            // Safari eval frames only have function names and nothing else\n            return new StackFrame({\n              functionName: line\n            });\n          } else {\n            var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n            var matches = line.match(functionNameRegex);\n            var functionName = matches && matches[1] ? matches[1] : undefined;\n            var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n            return new StackFrame({\n              functionName: functionName,\n              fileName: locationParts[0],\n              lineNumber: locationParts[1],\n              columnNumber: locationParts[2],\n              source: line\n            });\n          }\n        }, this);\n      },\n      parseOpera: function ErrorStackParser$$parseOpera(e) {\n        if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n          return this.parseOpera9(e);\n        } else if (!e.stack) {\n          return this.parseOpera10(e);\n        } else {\n          return this.parseOpera11(e);\n        }\n      },\n      parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n        var lines = e.message.split('\\n');\n        var result = [];\n        for (var i = 2, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n        return result;\n      },\n      parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n        var lines = e.stacktrace.split('\\n');\n        var result = [];\n        for (var i = 0, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              functionName: match[3] || undefined,\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n        return result;\n      },\n      // Opera 10.65+ Error.stack very similar to FF/Safari\n      parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n        }, this);\n        return filtered.map(function (line) {\n          var tokens = line.split('@');\n          var locationParts = this.extractLocation(tokens.pop());\n          var functionCall = tokens.shift() || '';\n          var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^\\)]*\\)/g, '') || undefined;\n          var argsRaw;\n          if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n            argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n          }\n          var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n          return new StackFrame({\n            functionName: functionName,\n            args: args,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      }\n    };\n  });\n  var _$errorStackParser_7 = _$errorStackParser_20;\n\n  // Given `err` which may be an error, does it have a stack property which is a string?\n  var _$hasStack_9 = function (err) {\n    return !!err && (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) && typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' && err.stack !== err.name + \": \" + err.message;\n  };\n  var _$jsRuntime_12 = \"yes\" ? 'browserjs' : typeof navigator !== 'undefined' && navigator.product === 'ReactNative' ? typeof Expo !== 'undefined' ? 'expojs' : 'reactnativejs' : 'nodejs';\n  var _$stackGenerator_22 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('stack-generator', ['stackframe'], factory);\n    } else if (typeof _$stackGenerator_22 === 'object') {\n      _$stackGenerator_22 = factory(_$stackframe_23);\n    } else {\n      root.StackGenerator = factory(root.StackFrame);\n    }\n  })(this, function (StackFrame) {\n    return {\n      backtrace: function StackGenerator$$backtrace(opts) {\n        var stack = [];\n        var maxStackSize = 10;\n        if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n          maxStackSize = opts.maxStackSize;\n        }\n        var curr = arguments.callee;\n        while (curr && stack.length < maxStackSize && curr['arguments']) {\n          // Allow V8 optimizations\n          var args = new Array(curr['arguments'].length);\n          for (var i = 0; i < args.length; ++i) {\n            args[i] = curr['arguments'][i];\n          }\n          if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n            stack.push(new StackFrame({\n              functionName: RegExp.$1 || undefined,\n              args: args\n            }));\n          } else {\n            stack.push(new StackFrame({\n              args: args\n            }));\n          }\n          try {\n            curr = curr.caller;\n          } catch (e) {\n            break;\n          }\n        }\n        return stack;\n      }\n    };\n  });\n  function ___extends_24() {\n    ___extends_24 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_24.apply(this, arguments);\n  }\n\n  /* removed: var _$errorStackParser_7 = require('./lib/error-stack-parser'); */\n  ;\n\n  /* removed: var _$stackGenerator_22 = require('stack-generator'); */\n  ;\n\n  /* removed: var _$hasStack_9 = require('./lib/has-stack'); */\n  ;\n  var __reduce_24 = _$esUtils_8.reduce,\n    __filter_24 = _$esUtils_8.filter;\n\n  /* removed: var _$jsRuntime_12 = require('./lib/js-runtime'); */\n  ;\n  var BugsnagReport = /*#__PURE__*/\n  function () {\n    function BugsnagReport(errorClass, errorMessage, stacktrace, handledState, originalError) {\n      if (stacktrace === void 0) {\n        stacktrace = [];\n      }\n      if (handledState === void 0) {\n        handledState = defaultHandledState();\n      }\n\n      // duck-typing ftw >_<\n      this.__isBugsnagReport = true;\n      this._ignored = false; // private (un)handled state\n\n      this._handledState = handledState; // setable props\n\n      this.app = undefined;\n      this.apiKey = undefined;\n      this.breadcrumbs = [];\n      this.context = undefined;\n      this.device = undefined;\n      this.errorClass = stringOrFallback(errorClass, '[no error class]');\n      this.errorMessage = stringOrFallback(errorMessage, '[no error message]');\n      this.groupingHash = undefined;\n      this.metaData = {};\n      this.request = undefined;\n      this.severity = this._handledState.severity;\n      this.stacktrace = __reduce_24(stacktrace, function (accum, frame) {\n        var f = formatStackframe(frame); // don't include a stackframe if none of its properties are defined\n\n        try {\n          if (JSON.stringify(f) === '{}') return accum;\n          return accum.concat(f);\n        } catch (e) {\n          return accum;\n        }\n      }, []);\n      this.user = undefined;\n      this.session = undefined;\n      this.originalError = originalError; // Flags.\n      // Note these are not initialised unless they are used\n      // to save unnecessary bytes in the browser bundle\n\n      /* this.attemptImmediateDelivery, default: true */\n    }\n    var _proto = BugsnagReport.prototype;\n    _proto.ignore = function ignore() {\n      this._ignored = true;\n    };\n    _proto.isIgnored = function isIgnored() {\n      return this._ignored;\n    };\n    _proto.updateMetaData = function updateMetaData(section) {\n      var _updates;\n      if (!section) return this;\n      var updates; // updateMetaData(\"section\", null) -> removes section\n\n      if ((arguments.length <= 1 ? undefined : arguments[1]) === null) return this.removeMetaData(section); // updateMetaData(\"section\", \"property\", null) -> removes property from section\n\n      if ((arguments.length <= 2 ? undefined : arguments[2]) === null) return this.removeMetaData(section, arguments.length <= 1 ? undefined : arguments[1], arguments.length <= 2 ? undefined : arguments[2]); // normalise the two supported input types into object form\n\n      if (typeof (arguments.length <= 1 ? undefined : arguments[1]) === 'object') updates = arguments.length <= 1 ? undefined : arguments[1];\n      if (typeof (arguments.length <= 1 ? undefined : arguments[1]) === 'string') updates = (_updates = {}, _updates[arguments.length <= 1 ? undefined : arguments[1]] = arguments.length <= 2 ? undefined : arguments[2], _updates); // exit if we don't have an updates object at this point\n\n      if (!updates) return this; // ensure a section with this name exists\n\n      if (!this.metaData[section]) this.metaData[section] = {}; // merge the updates with the existing section\n\n      this.metaData[section] = ___extends_24({}, this.metaData[section], updates);\n      return this;\n    };\n    _proto.removeMetaData = function removeMetaData(section, property) {\n      if (typeof section !== 'string') return this; // remove an entire section\n\n      if (!property) {\n        delete this.metaData[section];\n        return this;\n      } // remove a single property from a section\n\n      if (this.metaData[section]) {\n        delete this.metaData[section][property];\n        return this;\n      }\n      return this;\n    };\n    _proto.toJSON = function toJSON() {\n      return {\n        payloadVersion: '4',\n        exceptions: [{\n          errorClass: this.errorClass,\n          message: this.errorMessage,\n          stacktrace: this.stacktrace,\n          type: _$jsRuntime_12\n        }],\n        severity: this.severity,\n        unhandled: this._handledState.unhandled,\n        severityReason: this._handledState.severityReason,\n        app: this.app,\n        device: this.device,\n        breadcrumbs: this.breadcrumbs,\n        context: this.context,\n        user: this.user,\n        metaData: this.metaData,\n        groupingHash: this.groupingHash,\n        request: this.request,\n        session: this.session\n      };\n    };\n    return BugsnagReport;\n  }(); // takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n  // and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\n\n  var formatStackframe = function (frame) {\n    var f = {\n      file: frame.fileName,\n      method: normaliseFunctionName(frame.functionName),\n      lineNumber: frame.lineNumber,\n      columnNumber: frame.columnNumber,\n      code: undefined,\n      inProject: undefined // Some instances result in no file:\n      // - calling notify() from chrome's terminal results in no file/method.\n      // - non-error exception thrown from global code in FF\n      // This adds one.\n    };\n    if (f.lineNumber > -1 && !f.file && !f.method) {\n      f.file = 'global code';\n    }\n    return f;\n  };\n  var normaliseFunctionName = function (name) {\n    return /^global code$/i.test(name) ? 'global code' : name;\n  };\n  var defaultHandledState = function () {\n    return {\n      unhandled: false,\n      severity: 'warning',\n      severityReason: {\n        type: 'handledException'\n      }\n    };\n  };\n  var stringOrFallback = function (str, fallback) {\n    return typeof str === 'string' && str ? str : fallback;\n  }; // Helpers\n\n  BugsnagReport.getStacktrace = function (error, errorFramesToSkip, generatedFramesToSkip) {\n    if (errorFramesToSkip === void 0) {\n      errorFramesToSkip = 0;\n    }\n    if (generatedFramesToSkip === void 0) {\n      generatedFramesToSkip = 0;\n    }\n    if (_$hasStack_9(error)) return _$errorStackParser_7.parse(error).slice(errorFramesToSkip); // in IE11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n\n    try {\n      throw error;\n    } catch (e) {\n      if (_$hasStack_9(e)) return _$errorStackParser_7.parse(error).slice(1 + generatedFramesToSkip); // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n\n      try {\n        return __filter_24(_$stackGenerator_22.backtrace(), function (frame) {\n          return (frame.functionName || '').indexOf('StackGenerator$$') === -1;\n        }).slice(1 + generatedFramesToSkip);\n      } catch (e) {\n        return [];\n      }\n    }\n  };\n  BugsnagReport.ensureReport = function (reportOrError, errorFramesToSkip, generatedFramesToSkip) {\n    if (errorFramesToSkip === void 0) {\n      errorFramesToSkip = 0;\n    }\n    if (generatedFramesToSkip === void 0) {\n      generatedFramesToSkip = 0;\n    }\n\n    // notify() can be called with a Report object. In this case no action is required\n    if (reportOrError.__isBugsnagReport) return reportOrError;\n    try {\n      var stacktrace = BugsnagReport.getStacktrace(reportOrError, errorFramesToSkip, 1 + generatedFramesToSkip);\n      return new BugsnagReport(reportOrError.name, reportOrError.message, stacktrace, undefined, reportOrError);\n    } catch (e) {\n      return new BugsnagReport(reportOrError.name, reportOrError.message, [], undefined, reportOrError);\n    }\n  };\n  var _$BugsnagReport_24 = BugsnagReport;\n  var _$pad_18 = function pad(num, size) {\n    var s = '000000000' + num;\n    return s.substr(s.length - size);\n  };\n\n  /* removed: var _$pad_18 = require('./pad.js'); */\n  ;\n  var env = typeof window === 'object' ? window : self;\n  var globalCount = 0;\n  for (var prop in env) {\n    if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n  }\n  var mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\n  var clientId = _$pad_18((mimeTypesLength + navigator.userAgent.length).toString(36) + globalCount.toString(36), 4);\n  var _$fingerprint_17 = function fingerprint() {\n    return clientId;\n  };\n\n  /**\n   * cuid.js\n   * Collision-resistant UID generator for browsers and node.\n   * Sequential for fast db lookups and recency sorting.\n   * Safe for element IDs and server-side lookups.\n   *\n   * Extracted from CLCTR\n   *\n   * Copyright (c) Eric Elliott 2012\n   * MIT License\n   */\n  /* removed: var _$fingerprint_17 = require('./lib/fingerprint.js'); */\n  ;\n\n  /* removed: var _$pad_18 = require('./lib/pad.js'); */\n  ;\n  var c = 0,\n    blockSize = 4,\n    base = 36,\n    discreteValues = Math.pow(base, blockSize);\n  function randomBlock() {\n    return _$pad_18((Math.random() * discreteValues << 0).toString(base), blockSize);\n  }\n  function safeCounter() {\n    c = c < discreteValues ? c : 0;\n    c++; // this is not subliminal\n\n    return c - 1;\n  }\n  function cuid() {\n    // Starting with a lowercase letter makes\n    // it HTML element ID friendly.\n    var letter = 'c',\n      // hard-coded allows for sequential access\n      // timestamp\n      // warning: this exposes the exact date and time\n      // that the uid was created.\n      timestamp = new Date().getTime().toString(base),\n      // Prevent same-machine collisions.\n      counter = _$pad_18(safeCounter().toString(base), blockSize),\n      // A few chars to generate distinct ids for different\n      // clients (so different computers are far less\n      // likely to generate the same id)\n      print = _$fingerprint_17(),\n      // Grab some more chars from Math.random()\n      random = randomBlock() + randomBlock();\n    return letter + timestamp + counter + print + random;\n  }\n  cuid.fingerprint = _$fingerprint_17;\n  var _$cuid_16 = cuid;\n  var __isoDate_25 = _$esUtils_8.isoDate;\n\n  /* removed: var _$cuid_16 = require('@bugsnag/cuid'); */\n  ;\n  var Session = /*#__PURE__*/\n  function () {\n    function Session() {\n      this.id = _$cuid_16();\n      this.startedAt = __isoDate_25();\n      this._handled = 0;\n      this._unhandled = 0;\n    }\n    var _proto = Session.prototype;\n    _proto.toJSON = function toJSON() {\n      return {\n        id: this.id,\n        startedAt: this.startedAt,\n        events: {\n          handled: this._handled,\n          unhandled: this._unhandled\n        }\n      };\n    };\n    _proto.trackError = function trackError(report) {\n      this[report._handledState.unhandled ? '_unhandled' : '_handled'] += 1;\n    };\n    return Session;\n  }();\n  var _$Session_25 = Session;\n  function ___extends_4() {\n    ___extends_4 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_4.apply(this, arguments);\n  }\n\n  /* removed: var _$config_5 = require('./config'); */\n  ;\n\n  /* removed: var _$BugsnagReport_24 = require('./report'); */\n  ;\n\n  /* removed: var _$BugsnagBreadcrumb_3 = require('./breadcrumb'); */\n  ;\n\n  /* removed: var _$Session_25 = require('./session'); */\n  ;\n  var __map_4 = _$esUtils_8.map,\n    __includes_4 = _$esUtils_8.includes,\n    __isArray_4 = _$esUtils_8.isArray;\n\n  /* removed: var _$inferReleaseStage_10 = require('./lib/infer-release-stage'); */\n  ;\n\n  /* removed: var _$iserror_11 = require('./lib/iserror'); */\n  ;\n\n  /* removed: var _$asyncSome_6 = require('./lib/async-some'); */\n  ;\n\n  /* removed: var _$runBeforeSend_14 = require('./lib/run-before-send'); */\n  ;\n  var LOG_USAGE_ERR_PREFIX = \"Usage error.\";\n  var REPORT_USAGE_ERR_PREFIX = \"Bugsnag usage error.\";\n  var BugsnagClient = /*#__PURE__*/\n  function () {\n    function BugsnagClient(notifier) {\n      if (!notifier || !notifier.name || !notifier.version || !notifier.url) {\n        throw new Error('`notifier` argument is required');\n      } // notifier id\n\n      this.notifier = notifier; // configure() should be called before notify()\n\n      this._configured = false; // intialise opts and config\n\n      this._opts = {};\n      this.config = {}; // // i/o\n\n      this._delivery = {\n        sendSession: function () {},\n        sendReport: function () {}\n      };\n      this._logger = {\n        debug: function () {},\n        info: function () {},\n        warn: function () {},\n        error: function () {} // plugins\n      };\n      this._plugins = {};\n      this._session = null;\n      this.breadcrumbs = []; // setable props\n\n      this.app = {};\n      this.context = undefined;\n      this.device = undefined;\n      this.metaData = undefined;\n      this.request = undefined;\n      this.user = {}; // expose internal constructors\n\n      this.BugsnagClient = BugsnagClient;\n      this.BugsnagReport = _$BugsnagReport_24;\n      this.BugsnagBreadcrumb = _$BugsnagBreadcrumb_3;\n      this.BugsnagSession = _$Session_25;\n      var self = this;\n      var notify = this.notify;\n      this.notify = function () {\n        return notify.apply(self, arguments);\n      };\n    }\n    var _proto = BugsnagClient.prototype;\n    _proto.setOptions = function setOptions(opts) {\n      this._opts = ___extends_4({}, this._opts, opts);\n    };\n    _proto.configure = function configure(partialSchema) {\n      if (partialSchema === void 0) {\n        partialSchema = _$config_5.schema;\n      }\n      var conf = _$config_5.mergeDefaults(this._opts, partialSchema);\n      var validity = _$config_5.validate(conf, partialSchema);\n      if (!validity.valid === true) throw new Error(generateConfigErrorMessage(validity.errors)); // update and elevate some special options if they were passed in at this point\n\n      if (typeof conf.beforeSend === 'function') conf.beforeSend = [conf.beforeSend];\n      if (conf.appVersion) this.app.version = conf.appVersion;\n      if (conf.appType) this.app.type = conf.appType;\n      if (conf.metaData) this.metaData = conf.metaData;\n      if (conf.user) this.user = conf.user;\n      if (conf.logger) this.logger(conf.logger); // merge with existing config\n\n      this.config = ___extends_4({}, this.config, conf);\n      this._configured = true;\n      return this;\n    };\n    _proto.use = function use(plugin) {\n      if (!this._configured) throw new Error('client not configured');\n      if (plugin.configSchema) this.configure(plugin.configSchema);\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      var result = plugin.init.apply(plugin, [this].concat(args)); // JS objects are not the safest way to store arbitrarily keyed values,\n      // so bookend the key with some characters that prevent tampering with\n      // stuff like __proto__ etc. (only store the result if the plugin had a\n      // name)\n\n      if (plugin.name) this._plugins[\"~\" + plugin.name + \"~\"] = result;\n      return this;\n    };\n    _proto.getPlugin = function getPlugin(name) {\n      return this._plugins[\"~\" + name + \"~\"];\n    };\n    _proto.delivery = function delivery(d) {\n      this._delivery = d(this);\n      return this;\n    };\n    _proto.logger = function logger(l, sid) {\n      this._logger = l;\n      return this;\n    };\n    _proto.sessionDelegate = function sessionDelegate(s) {\n      this._sessionDelegate = s;\n      return this;\n    };\n    _proto.startSession = function startSession() {\n      if (!this._sessionDelegate) {\n        this._logger.warn('No session implementation is installed');\n        return this;\n      }\n      return this._sessionDelegate.startSession(this);\n    };\n    _proto.leaveBreadcrumb = function leaveBreadcrumb(name, metaData, type, timestamp) {\n      if (!this._configured) throw new Error('client not configured'); // coerce bad values so that the defaults get set\n\n      name = name || undefined;\n      type = typeof type === 'string' ? type : undefined;\n      timestamp = typeof timestamp === 'string' ? timestamp : undefined;\n      metaData = typeof metaData === 'object' && metaData !== null ? metaData : undefined; // if no name and no metaData, usefulness of this crumb is questionable at best so discard\n\n      if (typeof name !== 'string' && !metaData) return;\n      var crumb = new _$BugsnagBreadcrumb_3(name, metaData, type, timestamp); // push the valid crumb onto the queue and maintain the length\n\n      this.breadcrumbs.push(crumb);\n      if (this.breadcrumbs.length > this.config.maxBreadcrumbs) {\n        this.breadcrumbs = this.breadcrumbs.slice(this.breadcrumbs.length - this.config.maxBreadcrumbs);\n      }\n      return this;\n    };\n    _proto.notify = function notify(error, opts, cb) {\n      var _this = this;\n      if (opts === void 0) {\n        opts = {};\n      }\n      if (cb === void 0) {\n        cb = function () {};\n      }\n      if (!this._configured) throw new Error('client not configured'); // releaseStage can be set via config.releaseStage or client.app.releaseStage\n\n      var releaseStage = _$inferReleaseStage_10(this); // ensure we have an error (or a reasonable object representation of an error)\n\n      var _normaliseError = normaliseError(error, opts, this._logger),\n        err = _normaliseError.err,\n        errorFramesToSkip = _normaliseError.errorFramesToSkip,\n        _opts = _normaliseError._opts;\n      if (_opts) opts = _opts; // ensure opts is an object\n\n      if (typeof opts !== 'object' || opts === null) opts = {}; // create a report from the error, if it isn't one already\n\n      var report = _$BugsnagReport_24.ensureReport(err, errorFramesToSkip, 2);\n      report.app = ___extends_4({}, {\n        releaseStage: releaseStage\n      }, report.app, this.app);\n      report.context = report.context || opts.context || this.context || undefined;\n      report.device = ___extends_4({}, report.device, this.device, opts.device);\n      report.request = ___extends_4({}, report.request, this.request, opts.request);\n      report.user = ___extends_4({}, report.user, this.user, opts.user);\n      report.metaData = ___extends_4({}, report.metaData, this.metaData, opts.metaData);\n      report.breadcrumbs = this.breadcrumbs.slice(0);\n      if (this._session) {\n        this._session.trackError(report);\n        report.session = this._session;\n      } // set severity if supplied\n\n      if (opts.severity !== undefined) {\n        report.severity = opts.severity;\n        report._handledState.severityReason = {\n          type: 'userSpecifiedSeverity'\n        };\n      } // exit early if the reports should not be sent on the current releaseStage\n\n      if (__isArray_4(this.config.notifyReleaseStages) && !__includes_4(this.config.notifyReleaseStages, releaseStage)) {\n        this._logger.warn(\"Report not sent due to releaseStage/notifyReleaseStages configuration\");\n        return cb(null, report);\n      }\n      var originalSeverity = report.severity;\n      var beforeSend = [].concat(opts.beforeSend).concat(this.config.beforeSend);\n      var onBeforeSendErr = function (err) {\n        _this._logger.error(\"Error occurred in beforeSend callback, continuing anyway\\u2026\");\n        _this._logger.error(err);\n      };\n      _$asyncSome_6(beforeSend, _$runBeforeSend_14(report, onBeforeSendErr), function (err, preventSend) {\n        if (err) onBeforeSendErr(err);\n        if (preventSend) {\n          _this._logger.debug(\"Report not sent due to beforeSend callback\");\n          return cb(null, report);\n        } // only leave a crumb for the error if actually got sent\n\n        if (_this.config.autoBreadcrumbs) {\n          _this.leaveBreadcrumb(report.errorClass, {\n            errorClass: report.errorClass,\n            errorMessage: report.errorMessage,\n            severity: report.severity\n          }, 'error');\n        }\n        if (originalSeverity !== report.severity) {\n          report._handledState.severityReason = {\n            type: 'userCallbackSetSeverity'\n          };\n        }\n        _this._delivery.sendReport({\n          apiKey: report.apiKey || _this.config.apiKey,\n          notifier: _this.notifier,\n          events: [report]\n        }, function (err) {\n          return cb(err, report);\n        });\n      });\n    };\n    return BugsnagClient;\n  }();\n  var normaliseError = function (error, opts, logger) {\n    var synthesizedErrorFramesToSkip = 3;\n    var createAndLogUsageError = function (reason) {\n      var msg = generateNotifyUsageMessage(reason);\n      logger.warn(LOG_USAGE_ERR_PREFIX + \" \" + msg);\n      return new Error(REPORT_USAGE_ERR_PREFIX + \" \" + msg);\n    };\n    var err;\n    var errorFramesToSkip = 0;\n    var _opts;\n    switch (typeof error) {\n      case 'string':\n        if (typeof opts === 'string') {\n          // ≤v3 used to have a notify('ErrorName', 'Error message') interface\n          // report usage/deprecation errors if this function is called like that\n          err = createAndLogUsageError('string/string');\n          _opts = {\n            metaData: {\n              notifier: {\n                notifyArgs: [error, opts]\n              }\n            }\n          };\n        } else {\n          err = new Error(String(error));\n          errorFramesToSkip = synthesizedErrorFramesToSkip;\n        }\n        break;\n      case 'number':\n      case 'boolean':\n        err = new Error(String(error));\n        break;\n      case 'function':\n        err = createAndLogUsageError('function');\n        break;\n      case 'object':\n        if (error !== null && (_$iserror_11(error) || error.__isBugsnagReport)) {\n          err = error;\n        } else if (error !== null && hasNecessaryFields(error)) {\n          err = new Error(error.message || error.errorMessage);\n          err.name = error.name || error.errorClass;\n          errorFramesToSkip = synthesizedErrorFramesToSkip;\n        } else {\n          err = createAndLogUsageError(error === null ? 'null' : 'unsupported object');\n        }\n        break;\n      default:\n        err = createAndLogUsageError('nothing');\n    }\n    return {\n      err: err,\n      errorFramesToSkip: errorFramesToSkip,\n      _opts: _opts\n    };\n  };\n  var hasNecessaryFields = function (error) {\n    return (typeof error.name === 'string' || typeof error.errorClass === 'string') && (typeof error.message === 'string' || typeof error.errorMessage === 'string');\n  };\n  var generateConfigErrorMessage = function (errors) {\n    return \"Bugsnag configuration error\\n\" + __map_4(errors, function (err) {\n      return \"\\\"\" + err.key + \"\\\" \" + err.message + \" \\n    got \" + stringify(err.value);\n    }).join('\\n\\n');\n  };\n  var generateNotifyUsageMessage = function (actual) {\n    return \"notify() expected error/opts parameters, got \" + actual;\n  };\n  var stringify = function (val) {\n    return typeof val === 'object' ? JSON.stringify(val) : String(val);\n  };\n  var _$BugsnagClient_4 = BugsnagClient;\n  var _$safeJsonStringify_19 = function (data, replacer, space, opts) {\n    var filterKeys = opts && opts.filterKeys ? opts.filterKeys : [];\n    var filterPaths = opts && opts.filterPaths ? opts.filterPaths : [];\n    return JSON.stringify(prepareObjForSerialization(data, filterKeys, filterPaths), replacer, space);\n  };\n  var MAX_DEPTH = 20;\n  var MAX_EDGES = 25000;\n  var MIN_PRESERVED_DEPTH = 8;\n  var REPLACEMENT_NODE = '...';\n  function __isError_19(o) {\n    return o instanceof Error || /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o));\n  }\n  function throwsMessage(err) {\n    return '[Throws: ' + (err ? err.message : '?') + ']';\n  }\n  function find(haystack, needle) {\n    for (var i = 0, len = haystack.length; i < len; i++) {\n      if (haystack[i] === needle) return true;\n    }\n    return false;\n  } // returns true if the string `path` starts with any of the provided `paths`\n\n  function isDescendent(paths, path) {\n    for (var i = 0, len = paths.length; i < len; i++) {\n      if (path.indexOf(paths[i]) === 0) return true;\n    }\n    return false;\n  }\n  function shouldFilter(patterns, key) {\n    for (var i = 0, len = patterns.length; i < len; i++) {\n      if (typeof patterns[i] === 'string' && patterns[i] === key) return true;\n      if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true;\n    }\n    return false;\n  }\n  function __isArray_19(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n  function safelyGetProp(obj, prop) {\n    try {\n      return obj[prop];\n    } catch (err) {\n      return throwsMessage(err);\n    }\n  }\n  function prepareObjForSerialization(obj, filterKeys, filterPaths) {\n    var seen = []; // store references to objects we have seen before\n\n    var edges = 0;\n    function visit(obj, path) {\n      function edgesExceeded() {\n        return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES;\n      }\n      edges++;\n      if (path.length > MAX_DEPTH) return REPLACEMENT_NODE;\n      if (edgesExceeded()) return REPLACEMENT_NODE;\n      if (obj === null || typeof obj !== 'object') return obj;\n      if (find(seen, obj)) return '[Circular]';\n      seen.push(obj);\n      if (typeof obj.toJSON === 'function') {\n        try {\n          // we're not going to count this as an edge because it\n          // replaces the value of the currently visited object\n          edges--;\n          var fResult = visit(obj.toJSON(), path);\n          seen.pop();\n          return fResult;\n        } catch (err) {\n          return throwsMessage(err);\n        }\n      }\n      var er = __isError_19(obj);\n      if (er) {\n        edges--;\n        var eResult = visit({\n          name: obj.name,\n          message: obj.message\n        }, path);\n        seen.pop();\n        return eResult;\n      }\n      if (__isArray_19(obj)) {\n        var aResult = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n          if (edgesExceeded()) {\n            aResult.push(REPLACEMENT_NODE);\n            break;\n          }\n          aResult.push(visit(obj[i], path.concat('[]')));\n        }\n        seen.pop();\n        return aResult;\n      }\n      var result = {};\n      try {\n        for (var prop in obj) {\n          if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue;\n          if (isDescendent(filterPaths, path.join('.')) && shouldFilter(filterKeys, prop)) {\n            result[prop] = '[Filtered]';\n            continue;\n          }\n          if (edgesExceeded()) {\n            result[prop] = REPLACEMENT_NODE;\n            break;\n          }\n          result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop));\n        }\n      } catch (e) {}\n      seen.pop();\n      return result;\n    }\n    return visit(obj, []);\n  }\n  var _$jsonPayload_13 = {};\n  /* removed: var _$safeJsonStringify_19 = require('@bugsnag/safe-json-stringify'); */\n  ;\n  var REPORT_FILTER_PATHS = ['events.[].app', 'events.[].metaData', 'events.[].user', 'events.[].breadcrumbs', 'events.[].request', 'events.[].device'];\n  var SESSION_FILTER_PATHS = ['device', 'app', 'user'];\n  _$jsonPayload_13.report = function (report, filterKeys) {\n    var payload = _$safeJsonStringify_19(report, null, null, {\n      filterPaths: REPORT_FILTER_PATHS,\n      filterKeys: filterKeys\n    });\n    if (payload.length > 10e5) {\n      delete report.events[0].metaData;\n      report.events[0].metaData = {\n        notifier: \"WARNING!\\nSerialized payload was \" + payload.length / 10e5 + \"MB (limit = 1MB)\\nmetaData was removed\"\n      };\n      payload = _$safeJsonStringify_19(report, null, null, {\n        filterPaths: REPORT_FILTER_PATHS,\n        filterKeys: filterKeys\n      });\n      if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit');\n    }\n    return payload;\n  };\n  _$jsonPayload_13.session = function (report, filterKeys) {\n    var payload = _$safeJsonStringify_19(report, null, null, {\n      filterPaths: SESSION_FILTER_PATHS,\n      filterKeys: filterKeys\n    });\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit');\n    return payload;\n  };\n  var _$delivery_26 = {};\n  /* removed: var _$jsonPayload_13 = require('@bugsnag/core/lib/json-payload'); */\n  ;\n  var __isoDate_26 = _$esUtils_8.isoDate;\n  _$delivery_26 = function (client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      sendReport: function (report, cb) {\n        if (cb === void 0) {\n          cb = function () {};\n        }\n        var url = getApiUrl(client.config, 'notify', '4', win);\n        var req = new win.XDomainRequest();\n        req.onload = function () {\n          cb(null);\n        };\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(_$jsonPayload_13.report(report, client.config.filters));\n          } catch (e) {\n            client._logger.error(e);\n            cb(e);\n          }\n        }, 0);\n      },\n      sendSession: function (session, cb) {\n        if (cb === void 0) {\n          cb = function () {};\n        }\n        var url = getApiUrl(client.config, 'sessions', '1', win);\n        var req = new win.XDomainRequest();\n        req.onload = function () {\n          cb(null);\n        };\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(_$jsonPayload_13.session(session, client.config.filters));\n          } catch (e) {\n            client._logger.error(e);\n            cb(e);\n          }\n        }, 0);\n      }\n    };\n  };\n  var getApiUrl = function (config, endpoint, version, win) {\n    return matchPageProtocol(config.endpoints[endpoint], win.location.protocol) + \"?apiKey=\" + encodeURIComponent(config.apiKey) + \"&payloadVersion=\" + version + \"&sentAt=\" + encodeURIComponent(__isoDate_26());\n  };\n  var matchPageProtocol = _$delivery_26._matchPageProtocol = function (endpoint, pageProtocol) {\n    return pageProtocol === 'http:' ? endpoint.replace(/^https:/, 'http:') : endpoint;\n  };\n\n  /* removed: var _$jsonPayload_13 = require('@bugsnag/core/lib/json-payload'); */\n  ;\n  var __isoDate_27 = _$esUtils_8.isoDate;\n  var _$delivery_27 = function (client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      sendReport: function (report, cb) {\n        if (cb === void 0) {\n          cb = function () {};\n        }\n        try {\n          var url = client.config.endpoints.notify;\n          var req = new win.XMLHttpRequest();\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) cb(null);\n          };\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', report.apiKey || client.config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '4');\n          req.setRequestHeader('Bugsnag-Sent-At', __isoDate_27());\n          req.send(_$jsonPayload_13.report(report, client.config.filters));\n        } catch (e) {\n          client._logger.error(e);\n        }\n      },\n      sendSession: function (session, cb) {\n        if (cb === void 0) {\n          cb = function () {};\n        }\n        try {\n          var url = client.config.endpoints.sessions;\n          var req = new win.XMLHttpRequest();\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) cb(null);\n          };\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', client.config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '1');\n          req.setRequestHeader('Bugsnag-Sent-At', __isoDate_27());\n          req.send(_$jsonPayload_13.session(session, client.config.filters));\n        } catch (e) {\n          client._logger.error(e);\n        }\n      }\n    };\n  };\n\n  /*\n   * Sets the default context to be the current URL\n   */\n  var _$context_28 = {\n    init: function (client, win) {\n      if (win === void 0) {\n        win = window;\n      }\n      client.config.beforeSend.unshift(function (report) {\n        if (report.context) return;\n        report.context = win.location.pathname;\n      });\n    }\n  };\n  function ___extends_29() {\n    ___extends_29 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_29.apply(this, arguments);\n  }\n  var __isoDate_29 = _$esUtils_8.isoDate;\n  /*\n   * Automatically detects browser device details\n   */\n\n  var _$device_29 = {\n    init: function (client, nav) {\n      if (nav === void 0) {\n        nav = navigator;\n      }\n      var device = {\n        locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n        userAgent: nav.userAgent // merge with anything already set on the client\n      };\n      client.device = ___extends_29({}, device, client.device); // add time just as the report is sent\n\n      client.config.beforeSend.unshift(function (report) {\n        report.device = ___extends_29({}, report.device, {\n          time: __isoDate_29()\n        });\n      });\n    }\n  };\n  function ___extends_30() {\n    ___extends_30 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_30.apply(this, arguments);\n  }\n\n  /*\n   * Sets the report request: { url } to be the current href\n   */\n  var _$request_30 = {\n    init: function (client, win) {\n      if (win === void 0) {\n        win = window;\n      }\n      client.config.beforeSend.unshift(function (report) {\n        if (report.request && report.request.url) return;\n        report.request = ___extends_30({}, report.request, {\n          url: win.location.href\n        });\n      });\n    }\n  };\n  function ___extends_31() {\n    ___extends_31 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_31.apply(this, arguments);\n  }\n  var __isArray_31 = _$esUtils_8.isArray,\n    __includes_31 = _$esUtils_8.includes;\n\n  /* removed: var _$inferReleaseStage_10 = require('@bugsnag/core/lib/infer-release-stage'); */\n  ;\n  var _$session_31 = {\n    init: function (client) {\n      return client.sessionDelegate(sessionDelegate);\n    }\n  };\n  var sessionDelegate = {\n    startSession: function (client) {\n      var sessionClient = client;\n      sessionClient._session = new client.BugsnagSession();\n      var releaseStage = _$inferReleaseStage_10(sessionClient); // exit early if the reports should not be sent on the current releaseStage\n\n      if (__isArray_31(sessionClient.config.notifyReleaseStages) && !__includes_31(sessionClient.config.notifyReleaseStages, releaseStage)) {\n        sessionClient._logger.warn(\"Session not sent due to releaseStage/notifyReleaseStages configuration\");\n        return sessionClient;\n      }\n      if (!sessionClient.config.endpoints.sessions) {\n        sessionClient._logger.warn(\"Session not sent due to missing endpoints.sessions configuration\");\n        return sessionClient;\n      }\n      sessionClient._delivery.sendSession({\n        notifier: sessionClient.notifier,\n        device: sessionClient.device,\n        app: ___extends_31({}, {\n          releaseStage: releaseStage\n        }, sessionClient.app),\n        sessions: [{\n          id: sessionClient._session.id,\n          startedAt: sessionClient._session.startedAt,\n          user: sessionClient.user\n        }]\n      });\n      return sessionClient;\n    }\n  };\n  function ___extends_32() {\n    ___extends_32 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_32.apply(this, arguments);\n  }\n\n  /*\n   * Prevent collection of user IPs\n   */\n  var _$clientIp_32 = {\n    init: function (client) {\n      if (client.config.collectUserIp) return;\n      client.config.beforeSend.push(function (report) {\n        // If user.id is explicitly undefined, it will be missing from the payload. It needs\n        // removing so that the following line replaces it\n        if (report.user && typeof report.user.id === 'undefined') delete report.user.id;\n        report.user = ___extends_32({\n          id: '[NOT COLLECTED]'\n        }, report.user);\n        report.request = ___extends_32({\n          clientIp: '[NOT COLLECTED]'\n        }, report.request);\n      });\n    },\n    configSchema: {\n      collectUserIp: {\n        defaultValue: function () {\n          return true;\n        },\n        message: 'should be true|false',\n        validate: function (value) {\n          return value === true || value === false;\n        }\n      }\n    }\n  };\n  var _$consoleBreadcrumbs_33 = {};\n  var __map_33 = _$esUtils_8.map,\n    __reduce_33 = _$esUtils_8.reduce,\n    __filter_33 = _$esUtils_8.filter;\n  /*\n   * Leaves breadcrumbs when console log methods are called\n   */\n\n  _$consoleBreadcrumbs_33.init = function (client) {\n    var isDev = /^dev(elopment)?$/.test(client.config.releaseStage);\n    var explicitlyDisabled = client.config.consoleBreadcrumbsEnabled === false;\n    var implicitlyDisabled = (client.config.autoBreadcrumbs === false || isDev) && client.config.consoleBreadcrumbsEnabled !== true;\n    if (explicitlyDisabled || implicitlyDisabled) return;\n    __map_33(CONSOLE_LOG_METHODS, function (method) {\n      var original = console[method];\n      console[method] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        client.leaveBreadcrumb('Console output', __reduce_33(args, function (accum, arg, i) {\n          // do the best/simplest stringification of each argument\n          var stringified = '[Unknown value]'; // this may fail if the input is:\n          // - an object whose [[Prototype]] is null (no toString)\n          // - an object with a broken toString or @@toPrimitive implementation\n\n          try {\n            stringified = String(arg);\n          } catch (e) {} // if it stringifies to [object Object] attempt to JSON stringify\n\n          if (stringified === '[object Object]') {\n            // catch stringify errors and fallback to [object Object]\n            try {\n              stringified = JSON.stringify(arg);\n            } catch (e) {}\n          }\n          accum[\"[\" + i + \"]\"] = stringified;\n          return accum;\n        }, {\n          severity: method.indexOf('group') === 0 ? 'log' : method\n        }), 'log');\n        original.apply(console, args);\n      };\n      console[method]._restore = function () {\n        console[method] = original;\n      };\n    });\n  };\n  _$consoleBreadcrumbs_33.configSchema = {\n    consoleBreadcrumbsEnabled: {\n      defaultValue: function () {\n        return undefined;\n      },\n      validate: function (value) {\n        return value === true || value === false || value === undefined;\n      },\n      message: 'should be true|false'\n    }\n  };\n  if (\"production\" !== 'production') {\n    _$consoleBreadcrumbs_33.destroy = function () {\n      return CONSOLE_LOG_METHODS.forEach(function (method) {\n        if (typeof console[method]._restore === 'function') console[method]._restore();\n      });\n    };\n  }\n  var CONSOLE_LOG_METHODS = __filter_33(['log', 'debug', 'info', 'warn', 'error'], function (method) {\n    return typeof console !== 'undefined' && typeof console[method] === 'function';\n  });\n  var __map_34 = _$esUtils_8.map,\n    __reduce_34 = _$esUtils_8.reduce,\n    __filter_34 = _$esUtils_8.filter;\n  var MAX_LINE_LENGTH = 200;\n  var MAX_SCRIPT_LENGTH = 500000;\n  var _$inlineScriptContent_34 = {\n    init: function (client, doc, win) {\n      if (doc === void 0) {\n        doc = document;\n      }\n      if (win === void 0) {\n        win = window;\n      }\n      if (!client.config.trackInlineScripts) return;\n      var originalLocation = win.location.href;\n      var html = '';\n      var DOMContentLoaded = false;\n      var getHtml = function () {\n        return doc.documentElement.outerHTML;\n      }; // get whatever HTML exists at this point in time\n\n      html = getHtml();\n      var prev = doc.onreadystatechange; // then update it when the DOM content has loaded\n\n      doc.onreadystatechange = function () {\n        // IE8 compatible alternative to document#DOMContentLoaded\n        if (doc.readyState === 'interactive') {\n          html = getHtml();\n          DOMContentLoaded = true;\n        }\n        try {\n          prev.apply(this, arguments);\n        } catch (e) {}\n      };\n      var _lastScript = null;\n      var updateLastScript = function (script) {\n        _lastScript = script;\n      };\n      var getCurrentScript = function () {\n        var script = doc.currentScript || _lastScript;\n        if (!script && !DOMContentLoaded) {\n          var scripts = doc.scripts || doc.getElementsByTagName('script');\n          script = scripts[scripts.length - 1];\n        }\n        return script;\n      };\n      var addSurroundingCode = function (lineNumber) {\n        // get whatever html has rendered at this point\n        if (!DOMContentLoaded || !html) html = getHtml(); // simulate the raw html\n\n        var htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'));\n        var zeroBasedLine = lineNumber - 1;\n        var start = Math.max(zeroBasedLine - 3, 0);\n        var end = Math.min(zeroBasedLine + 3, htmlLines.length);\n        return __reduce_34(htmlLines.slice(start, end), function (accum, line, i) {\n          accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH);\n          return accum;\n        }, {});\n      };\n      client.config.beforeSend.unshift(function (report) {\n        // remove any of our own frames that may be part the stack this\n        // happens before the inline script check as it happens for all errors\n        report.stacktrace = __filter_34(report.stacktrace, function (f) {\n          return !/__trace__$/.test(f.method);\n        });\n        var frame = report.stacktrace[0]; // if frame.file exists and is not the original location of the page, this can't be an inline script\n\n        if (frame && frame.file && frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return; // grab the last script known to have run\n\n        var currentScript = getCurrentScript();\n        if (currentScript) {\n          var content = currentScript.innerHTML;\n          report.updateMetaData('script', 'content', content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH));\n        } // only attempt to grab some surrounding code if we have a line number\n\n        if (!frame || !frame.lineNumber) return;\n        frame.code = addSurroundingCode(frame.lineNumber);\n      }); // Proxy all the timer functions whose callback is their 0th argument.\n      // Keep a reference to the original setTimeout because we need it later\n\n      var _map = __map_34(['setTimeout', 'setInterval', 'setImmediate', 'requestAnimationFrame'], function (fn) {\n          return __proxy(win, fn, function (original) {\n            return __traceOriginalScript(original, function (args) {\n              return {\n                get: function () {\n                  return args[0];\n                },\n                replace: function (fn) {\n                  args[0] = fn;\n                }\n              };\n            });\n          });\n        }),\n        _setTimeout = _map[0]; // Proxy all the host objects whose prototypes have an addEventListener function\n\n      __map_34(['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'], function (o) {\n        if (!win[o] || !win[o].prototype || !win[o].prototype.hasOwnProperty || !win[o].prototype.hasOwnProperty('addEventListener')) return;\n        __proxy(win[o].prototype, 'addEventListener', function (original) {\n          return __traceOriginalScript(original, eventTargetCallbackAccessor);\n        });\n        __proxy(win[o].prototype, 'removeEventListener', function (original) {\n          return __traceOriginalScript(original, eventTargetCallbackAccessor, true);\n        });\n      });\n      function __traceOriginalScript(fn, callbackAccessor, alsoCallOriginal) {\n        if (alsoCallOriginal === void 0) {\n          alsoCallOriginal = false;\n        }\n        return function () {\n          // this is required for removeEventListener to remove anything added with\n          // addEventListener before the functions started being wrapped by Bugsnag\n          var args = Array.prototype.slice.call(arguments);\n          try {\n            var cba = callbackAccessor(args);\n            var cb = cba.get();\n            if (alsoCallOriginal) fn.apply(this, args);\n            if (typeof cb !== 'function') return fn.apply(this, args);\n            if (cb.__trace__) {\n              cba.replace(cb.__trace__);\n            } else {\n              var script = getCurrentScript(); // this function mustn't be annonymous due to a bug in the stack\n              // generation logic, meaning it gets tripped up\n              // see: https://github.com/stacktracejs/stack-generator/issues/6\n\n              cb.__trace__ = function __trace__() {\n                // set the script that called this function\n                updateLastScript(script); // immediately unset the currentScript synchronously below, however\n                // if this cb throws an error the line after will not get run so schedule\n                // an almost-immediate aysnc update too\n\n                _setTimeout(function () {\n                  updateLastScript(null);\n                }, 0);\n                var ret = cb.apply(this, arguments);\n                updateLastScript(null);\n                return ret;\n              };\n              cb.__trace__.__trace__ = cb.__trace__;\n              cba.replace(cb.__trace__);\n            }\n          } catch (e) {} // swallow these errors on Selenium:\n          // Permission denied to access property '__trace__'\n          // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n          // IE8 doesn't let you call .apply() on setTimeout/setInterval\n\n          if (fn.apply) return fn.apply(this, args);\n          switch (args.length) {\n            case 1:\n              return fn(args[0]);\n            case 2:\n              return fn(args[0], args[1]);\n            default:\n              return fn();\n          }\n        };\n      }\n    },\n    configSchema: {\n      trackInlineScripts: {\n        validate: function (value) {\n          return value === true || value === false;\n        },\n        defaultValue: function () {\n          return true;\n        },\n        message: 'should be true|false'\n      }\n    }\n  };\n  function __proxy(host, name, replacer) {\n    var original = host[name];\n    if (!original) return original;\n    var replacement = replacer(original);\n    host[name] = replacement;\n    return original;\n  }\n  function eventTargetCallbackAccessor(args) {\n    var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function';\n    return {\n      get: function () {\n        return isEventHandlerObj ? args[1].handleEvent : args[1];\n      },\n      replace: function (fn) {\n        if (isEventHandlerObj) {\n          args[1].handleEvent = fn;\n        } else {\n          args[1] = fn;\n        }\n      }\n    };\n  }\n\n  /*\n   * Leaves breadcrumbs when the user interacts with the DOM\n   */\n  var _$interactionBreadcrumbs_35 = {\n    init: function (client, win) {\n      if (win === void 0) {\n        win = window;\n      }\n      if (!('addEventListener' in win)) return;\n      var explicitlyDisabled = client.config.interactionBreadcrumbsEnabled === false;\n      var implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.interactionBreadcrumbsEnabled !== true;\n      if (explicitlyDisabled || implicitlyDisabled) return;\n      win.addEventListener('click', function (event) {\n        var targetText, targetSelector;\n        try {\n          targetText = getNodeText(event.target);\n          targetSelector = getNodeSelector(event.target, win);\n        } catch (e) {\n          targetText = '[hidden]';\n          targetSelector = '[hidden]';\n          client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z');\n        }\n        client.leaveBreadcrumb('UI click', {\n          targetText: targetText,\n          targetSelector: targetSelector\n        }, 'user');\n      }, true);\n    },\n    configSchema: {\n      interactionBreadcrumbsEnabled: {\n        defaultValue: function () {\n          return undefined;\n        },\n        validate: function (value) {\n          return value === true || value === false || value === undefined;\n        },\n        message: 'should be true|false'\n      }\n    } // extract text content from a element\n  };\n  var getNodeText = function (el) {\n    var text = el.textContent || el.innerText || '';\n    if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value;\n    text = text.replace(/^\\s+|\\s+$/g, ''); // trim whitespace\n\n    return truncate(text, 140);\n  }; // Create a label from tagname, id and css class of the element\n\n  function getNodeSelector(el, win) {\n    var parts = [el.tagName];\n    if (el.id) parts.push('#' + el.id);\n    if (el.className && el.className.length) parts.push(\".\" + el.className.split(' ').join('.')); // Can't get much more advanced with the current browser\n\n    if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('');\n    try {\n      if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('');\n    } catch (e) {\n      // Sometimes the query selector can be invalid just return it as-is\n      return parts.join('');\n    } // try to get a more specific selector if this one matches more than one element\n\n    if (el.parentNode.childNodes.length > 1) {\n      var index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1;\n      parts.push(\":nth-child(\" + index + \")\");\n    }\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join(''); // try prepending the parent node selector\n\n    if (el.parentNode) return getNodeSelector(el.parentNode, win) + \" > \" + parts.join('');\n    return parts.join('');\n  }\n  function truncate(value, length) {\n    var ommision = '(...)';\n    if (value && value.length <= length) return value;\n    return value.slice(0, length - ommision.length) + ommision;\n  }\n  var _$navigationBreadcrumbs_36 = {};\n  /*\n   * Leaves breadcrumbs when navigation methods are called or events are emitted\n   */\n  _$navigationBreadcrumbs_36.init = function (client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    if (!('addEventListener' in win)) return;\n    var explicitlyDisabled = client.config.navigationBreadcrumbsEnabled === false;\n    var implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.navigationBreadcrumbsEnabled !== true;\n    if (explicitlyDisabled || implicitlyDisabled) return; // returns a function that will drop a breadcrumb with a given name\n\n    var drop = function (name) {\n      return function () {\n        return client.leaveBreadcrumb(name, {}, 'navigation');\n      };\n    }; // simple drops – just names, no meta\n\n    win.addEventListener('pagehide', drop('Page hidden'), true);\n    win.addEventListener('pageshow', drop('Page shown'), true);\n    win.addEventListener('load', drop('Page loaded'), true);\n    win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true); // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n\n    win.addEventListener('load', function () {\n      return win.addEventListener('popstate', drop('Navigated back'), true);\n    }); // hashchange has some metaData that we care about\n\n    win.addEventListener('hashchange', function (event) {\n      var metaData = event.oldURL ? {\n        from: relativeLocation(event.oldURL, win),\n        to: relativeLocation(event.newURL, win),\n        state: getCurrentState(win)\n      } : {\n        to: relativeLocation(win.location.href, win)\n      };\n      client.leaveBreadcrumb('Hash changed', metaData, 'navigation');\n    }, true); // the only way to know about replaceState/pushState is to wrap them… >_<\n\n    if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win);\n    if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win);\n    client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation');\n  };\n  _$navigationBreadcrumbs_36.configSchema = {\n    navigationBreadcrumbsEnabled: {\n      defaultValue: function () {\n        return undefined;\n      },\n      validate: function (value) {\n        return value === true || value === false || value === undefined;\n      },\n      message: 'should be true|false'\n    }\n  };\n  if (\"production\" !== 'production') {\n    _$navigationBreadcrumbs_36.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n      win.history.replaceState._restore();\n      win.history.pushState._restore();\n    };\n  } // takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n  // just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\n\n  var relativeLocation = function (url, win) {\n    var a = win.document.createElement('A');\n    a.href = url;\n    return \"\" + a.pathname + a.search + a.hash;\n  };\n  var stateChangeToMetaData = function (win, state, title, url) {\n    var currentPath = relativeLocation(win.location.href, win);\n    return {\n      title: title,\n      state: state,\n      prevState: getCurrentState(win),\n      to: url || currentPath,\n      from: currentPath\n    };\n  };\n  var wrapHistoryFn = function (client, target, fn, win) {\n    var orig = target[fn];\n    target[fn] = function (state, title, url) {\n      client.leaveBreadcrumb(\"History \" + fn, stateChangeToMetaData(win, state, title, url), 'navigation'); // if throttle plugin is in use, refresh the event sent count\n\n      if (typeof client.refresh === 'function') client.refresh(); // if the client is operating in auto session-mode, a new route should trigger a new session\n\n      if (client.config.autoCaptureSessions) client.startSession(); // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n      // to '/undefined'. therefore we only pass the url if it's not undefined.\n\n      orig.apply(target, [state, title].concat(url !== undefined ? url : []));\n    };\n    if (\"production\" !== 'production') {\n      target[fn]._restore = function () {\n        target[fn] = orig;\n      };\n    }\n  };\n  var getCurrentState = function (win) {\n    try {\n      return win.history.state;\n    } catch (e) {}\n  };\n  var _$networkBreadcrumbs_37 = {};\n  var BREADCRUMB_TYPE = 'request'; // keys to safely store metadata on the request object\n\n  var REQUEST_SETUP_KEY = 'BS~~S';\n  var REQUEST_URL_KEY = 'BS~~U';\n  var REQUEST_METHOD_KEY = 'BS~~M';\n  var __includes_37 = _$esUtils_8.includes;\n  var restoreFunctions = [];\n  var client;\n  var win;\n  var getIgnoredUrls;\n  var defaultIgnoredUrls = function () {\n    return [client.config.endpoints.notify, client.config.endpoints.sessions];\n  };\n  /*\n   * Leaves breadcrumbs when network requests occur\n   */\n\n  _$networkBreadcrumbs_37.name = 'networkBreadcrumbs';\n  _$networkBreadcrumbs_37.init = function (_client, _getIgnoredUrls, _win) {\n    if (_getIgnoredUrls === void 0) {\n      _getIgnoredUrls = defaultIgnoredUrls;\n    }\n    if (_win === void 0) {\n      _win = window;\n    }\n    var explicitlyDisabled = _client.config.networkBreadcrumbsEnabled === false;\n    var implicitlyDisabled = _client.config.autoBreadcrumbs === false && _client.config.networkBreadcrumbsEnabled !== true;\n    if (explicitlyDisabled || implicitlyDisabled) return;\n    client = _client;\n    win = _win;\n    getIgnoredUrls = _getIgnoredUrls;\n    monkeyPatchXMLHttpRequest();\n    monkeyPatchFetch();\n  };\n  _$networkBreadcrumbs_37.configSchema = {\n    networkBreadcrumbsEnabled: {\n      defaultValue: function () {\n        return undefined;\n      },\n      validate: function (value) {\n        return value === true || value === false || value === undefined;\n      },\n      message: 'should be true|false'\n    }\n  };\n  if (\"production\" !== 'production') {\n    _$networkBreadcrumbs_37.destroy = function () {\n      restoreFunctions.forEach(function (fn) {\n        return fn();\n      });\n      restoreFunctions = [];\n    };\n  } // XMLHttpRequest monkey patch\n\n  var monkeyPatchXMLHttpRequest = function () {\n    if (!('addEventListener' in win.XMLHttpRequest.prototype)) return;\n    var nativeOpen = win.XMLHttpRequest.prototype.open; // override native open()\n\n    win.XMLHttpRequest.prototype.open = function open(method, url) {\n      // store url and HTTP method for later\n      this[REQUEST_URL_KEY] = url;\n      this[REQUEST_METHOD_KEY] = method; // if we have already setup listeners, it means open() was called twice, we need to remove\n      // the listeners and recreate them\n\n      if (this[REQUEST_SETUP_KEY]) {\n        this.removeEventListener('load', handleXHRLoad);\n        this.removeEventListener('error', handleXHRError);\n      } // attach load event listener\n\n      this.addEventListener('load', handleXHRLoad); // attach error event listener\n\n      this.addEventListener('error', handleXHRError);\n      this[REQUEST_SETUP_KEY] = true;\n      nativeOpen.apply(this, arguments);\n    };\n    if (\"production\" !== 'production') {\n      restoreFunctions.push(function () {\n        win.XMLHttpRequest.prototype.open = nativeOpen;\n      });\n    }\n  };\n  function handleXHRLoad() {\n    if (__includes_37(getIgnoredUrls(), this[REQUEST_URL_KEY])) {\n      // don't leave a network breadcrumb from bugsnag notify calls\n      return;\n    }\n    var metaData = {\n      status: this.status,\n      request: this[REQUEST_METHOD_KEY] + \" \" + this[REQUEST_URL_KEY]\n    };\n    if (this.status >= 400) {\n      // contacted server but got an error response\n      client.leaveBreadcrumb('XMLHttpRequest failed', metaData, BREADCRUMB_TYPE);\n    } else {\n      client.leaveBreadcrumb('XMLHttpRequest succeeded', metaData, BREADCRUMB_TYPE);\n    }\n  }\n  function handleXHRError() {\n    if (__includes_37(getIgnoredUrls, this[REQUEST_URL_KEY])) {\n      // don't leave a network breadcrumb from bugsnag notify calls\n      return;\n    } // failed to contact server\n\n    client.leaveBreadcrumb('XMLHttpRequest error', {\n      request: this[REQUEST_METHOD_KEY] + \" \" + this[REQUEST_URL_KEY]\n    }, BREADCRUMB_TYPE);\n  } // window.fetch monkey patch\n\n  var monkeyPatchFetch = function () {\n    // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n    // fetch() results in duplicate breadcrumbs for the same request because the\n    // implementation uses XMLHttpRequest which is also patched)\n    if (!('fetch' in win) || win.fetch.polyfill) return;\n    var oldFetch = win.fetch;\n    win.fetch = function fetch() {\n      var _arguments = arguments;\n      var urlOrRequest = arguments[0];\n      var options = arguments[1];\n      var method;\n      var url = null;\n      if (urlOrRequest && typeof urlOrRequest === 'object') {\n        url = urlOrRequest.url;\n        if (options && 'method' in options) {\n          method = options.method;\n        } else if (urlOrRequest && 'method' in urlOrRequest) {\n          method = urlOrRequest.method;\n        }\n      } else {\n        url = urlOrRequest;\n        if (options && 'method' in options) {\n          method = options.method;\n        }\n      }\n      if (method === undefined) {\n        method = 'GET';\n      }\n      return new Promise(function (resolve, reject) {\n        // pass through to native fetch\n        oldFetch.apply(void 0, _arguments).then(function (response) {\n          handleFetchSuccess(response, method, url);\n          resolve(response);\n        })[\"catch\"](function (error) {\n          handleFetchError(method, url);\n          reject(error);\n        });\n      });\n    };\n    if (\"production\" !== 'production') {\n      restoreFunctions.push(function () {\n        win.fetch = oldFetch;\n      });\n    }\n  };\n  var handleFetchSuccess = function (response, method, url) {\n    var metaData = {\n      status: response.status,\n      request: method + \" \" + url\n    };\n    if (response.status >= 400) {\n      // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n      client.leaveBreadcrumb('fetch() failed', metaData, BREADCRUMB_TYPE);\n    } else {\n      client.leaveBreadcrumb('fetch() succeeded', metaData, BREADCRUMB_TYPE);\n    }\n  };\n  var handleFetchError = function (method, url) {\n    client.leaveBreadcrumb('fetch() error', {\n      request: method + \" \" + url\n    }, BREADCRUMB_TYPE);\n  };\n  var __intRange_38 = _$validators_15.intRange;\n  /*\n   * Throttles and dedupes error reports\n   */\n\n  var _$throttle_38 = {\n    init: function (client) {\n      // track sent events for each init of the plugin\n      var n = 0; // add beforeSend hook\n\n      client.config.beforeSend.push(function (report) {\n        // have max events been sent already?\n        if (n >= client.config.maxEvents) return report.ignore();\n        n++;\n      });\n      client.refresh = function () {\n        n = 0;\n      };\n    },\n    configSchema: {\n      maxEvents: {\n        defaultValue: function () {\n          return 10;\n        },\n        message: 'should be a positive integer ≤100',\n        validate: function (val) {\n          return __intRange_38(1, 100)(val);\n        }\n      }\n    }\n  };\n  var _$stripQueryString_39 = {};\n  function ___extends_39() {\n    ___extends_39 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_39.apply(this, arguments);\n  }\n\n  /*\n   * Remove query strings (and fragments) from stacktraces\n   */\n  var __map_39 = _$esUtils_8.map;\n  _$stripQueryString_39 = {\n    init: function (client) {\n      client.config.beforeSend.push(function (report) {\n        report.stacktrace = __map_39(report.stacktrace, function (frame) {\n          return ___extends_39({}, frame, {\n            file: strip(frame.file)\n          });\n        });\n      });\n    }\n  };\n  var strip = _$stripQueryString_39._strip = function (str) {\n    return typeof str === 'string' ? str.replace(/\\?.*$/, '').replace(/#.*$/, '') : str;\n  };\n\n  /*\n   * Automatically notifies Bugsnag when window.onerror is called\n   */\n  var _$onerror_40 = {\n    init: function (client, win) {\n      if (win === void 0) {\n        win = window;\n      }\n      function onerror(messageOrEvent, url, lineNo, charNo, error) {\n        // Ignore errors with no info due to CORS settings\n        if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n          client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z');\n        } else {\n          // any error sent to window.onerror is unhandled and has severity=error\n          var handledState = {\n            severity: 'error',\n            unhandled: true,\n            severityReason: {\n              type: 'unhandledException'\n            }\n          };\n          var report; // window.onerror can be called in a number of ways. This big if-else is how we\n          // figure out which arguments were supplied, and what kind of values it received.\n\n          if (error) {\n            // if the last parameter (error) was supplied, this is a modern browser's\n            // way of saying \"this value was thrown and not caught\"\n            if (error.name && error.message) {\n              // if it looks like an error, construct a report object using its stack\n              report = new client.BugsnagReport(error.name, error.message, decorateStack(client.BugsnagReport.getStacktrace(error), url, lineNo, charNo), handledState, error);\n            } else {\n              // otherwise, for non error values that were thrown, stringify it for\n              // use as the error message and get/generate a stacktrace\n              report = new client.BugsnagReport('window.onerror', String(error), decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo), handledState, error); // include the raw input as metadata\n\n              report.updateMetaData('window onerror', {\n                error: error\n              });\n            }\n          } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          typeof messageOrEvent === 'object' && messageOrEvent !== null && (!url || typeof url !== 'string') && !lineNo && !charNo && !error) {\n            // The jQuery event may have a \"type\" property, if so use it as part of the error message\n            var name = messageOrEvent.type ? \"Event: \" + messageOrEvent.type : 'window.onerror'; // attempt to find a message from one of the conventional properties, but\n            // default to empty string (the report will fill it with a placeholder)\n\n            var message = messageOrEvent.message || messageOrEvent.detail || '';\n            report = new client.BugsnagReport(name, message, client.BugsnagReport.getStacktrace(new Error(), 1).slice(1), handledState, messageOrEvent); // include the raw input as metadata – it might contain more info than we extracted\n\n            report.updateMetaData('window onerror', {\n              event: messageOrEvent,\n              extraParameters: url\n            });\n          } else {\n            // Lastly, if there was no \"error\" parameter this event was probably from an old\n            // browser that doesn't support that. Instead we need to generate a stacktrace.\n            report = new client.BugsnagReport('window.onerror', String(messageOrEvent), decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo), handledState, messageOrEvent); // include the raw input as metadata – it might contain more info than we extracted\n\n            report.updateMetaData('window onerror', {\n              event: messageOrEvent\n            });\n          }\n          client.notify(report);\n        }\n        if (typeof prevOnError === 'function') prevOnError.apply(this, arguments);\n      }\n      var prevOnError = win.onerror;\n      win.onerror = onerror;\n    } // Sometimes the stacktrace has less information than was passed to window.onerror.\n    // This function will augment the first stackframe with any useful info that was\n    // received as arguments to the onerror callback.\n  };\n  var decorateStack = function (stack, url, lineNo, charNo) {\n    var culprit = stack[0];\n    if (!culprit) return stack;\n    if (!culprit.fileName && typeof url === 'string') culprit.setFileName(url);\n    if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.setLineNumber(lineNo);\n    if (!culprit.columnNumber) {\n      if (isActualNumber(charNo)) {\n        culprit.setColumnNumber(charNo);\n      } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n        culprit.setColumnNumber(window.event.errorCharacter);\n      }\n    }\n    return stack;\n  };\n  var isActualNumber = function (n) {\n    return typeof n === 'number' && String.call(n) !== 'NaN';\n  };\n  var _$unhandledRejection_41 = {};\n  /* removed: var _$hasStack_9 = require('@bugsnag/core/lib/has-stack'); */\n  ;\n  var __reduce_41 = _$esUtils_8.reduce;\n\n  /* removed: var _$errorStackParser_7 = require('@bugsnag/core/lib/error-stack-parser'); */\n  ;\n\n  /* removed: var _$iserror_11 = require('@bugsnag/core/lib/iserror'); */\n  ;\n  /*\n   * Automatically notifies Bugsnag when window.onunhandledrejection is called\n   */\n\n  var _listener;\n  _$unhandledRejection_41.init = function (client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    var listener = function (event) {\n      var error = event.reason;\n      var isBluebird = false; // accessing properties on event.detail can throw errors (see #394)\n\n      try {\n        if (event.detail && event.detail.reason) {\n          error = event.detail.reason;\n          isBluebird = true;\n        }\n      } catch (e) {}\n      var handledState = {\n        severity: 'error',\n        unhandled: true,\n        severityReason: {\n          type: 'unhandledPromiseRejection'\n        }\n      };\n      var report;\n      if (error && _$hasStack_9(error)) {\n        // if it quacks like an Error…\n        report = new client.BugsnagReport(error.name, error.message, _$errorStackParser_7.parse(error), handledState, error);\n        if (isBluebird) {\n          report.stacktrace = __reduce_41(report.stacktrace, fixBluebirdStacktrace(error), []);\n        }\n      } else {\n        // if it doesn't…\n        var msg = 'Rejection reason was not an Error. See \"Promise\" tab for more detail.';\n        report = new client.BugsnagReport(error && error.name ? error.name : 'UnhandledRejection', error && error.message ? error.message : msg, [], handledState, error); // stuff the rejection reason into metaData, it could be useful\n\n        report.updateMetaData('promise', 'rejection reason', serializableReason(error));\n      }\n      client.notify(report);\n    };\n    if ('addEventListener' in win) {\n      win.addEventListener('unhandledrejection', listener);\n    } else {\n      win.onunhandledrejection = function (reason, promise) {\n        listener({\n          detail: {\n            reason: reason,\n            promise: promise\n          }\n        });\n      };\n    }\n    _listener = listener;\n  };\n  if (\"production\" !== 'production') {\n    _$unhandledRejection_41.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n      if (_listener) {\n        if ('addEventListener' in win) {\n          win.removeEventListener('unhandledrejection', _listener);\n        } else {\n          win.onunhandledrejection = null;\n        }\n      }\n      _listener = null;\n    };\n  }\n  var serializableReason = function (err) {\n    if (err === null || err === undefined) {\n      return 'undefined (or null)';\n    } else if (_$iserror_11(err)) {\n      var _ref;\n      return _ref = {}, _ref[Object.prototype.toString.call(err)] = {\n        name: err.name,\n        message: err.message,\n        code: err.code,\n        stack: err.stack\n      }, _ref;\n    } else {\n      return err;\n    }\n  }; // The stack parser on bluebird stacks in FF get a suprious first frame:\n  //\n  // Error: derp\n  //   b@http://localhost:5000/bluebird.html:22:24\n  //   a@http://localhost:5000/bluebird.html:18:9\n  //   @http://localhost:5000/bluebird.html:14:9\n  //\n  // results in\n  //   […]\n  //     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, … }\n  //     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, … }\n  //     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, … }\n  //     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, … }\n  //\n  // so the following reduce/accumulator function removes such frames\n  //\n  // Bluebird pads method names with spaces so trim that too…\n  // https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\n\n  var fixBluebirdStacktrace = function (error) {\n    return function (accum, frame) {\n      if (frame.file === error.toString()) return accum;\n      if (frame.method) {\n        frame.method = frame.method.replace(/^\\s+/, '');\n      }\n      return accum.concat(frame);\n    };\n  };\n  var _$notifier_2 = {};\n  function ___extends_2() {\n    ___extends_2 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return ___extends_2.apply(this, arguments);\n  }\n  var name = 'Bugsnag JavaScript';\n  var version = '6.5.2';\n  var url = 'https://github.com/bugsnag/bugsnag-js';\n\n  /* removed: var _$BugsnagClient_4 = require('@bugsnag/core/client'); */\n  ;\n\n  /* removed: var _$BugsnagReport_24 = require('@bugsnag/core/report'); */\n  ;\n\n  /* removed: var _$Session_25 = require('@bugsnag/core/session'); */\n  ;\n\n  /* removed: var _$BugsnagBreadcrumb_3 = require('@bugsnag/core/breadcrumb'); */\n  ; // extend the base config schema with some browser-specific options\n\n  var __schema_2 = ___extends_2({}, _$config_5.schema, _$config_1);\n\n  /* removed: var _$onerror_40 = require('@bugsnag/plugin-window-onerror'); */\n  ;\n\n  /* removed: var _$unhandledRejection_41 = require('@bugsnag/plugin-window-unhandled-rejection'); */\n  ;\n\n  /* removed: var _$device_29 = require('@bugsnag/plugin-browser-device'); */\n  ;\n\n  /* removed: var _$context_28 = require('@bugsnag/plugin-browser-context'); */\n  ;\n\n  /* removed: var _$request_30 = require('@bugsnag/plugin-browser-request'); */\n  ;\n\n  /* removed: var _$throttle_38 = require('@bugsnag/plugin-simple-throttle'); */\n  ;\n\n  /* removed: var _$consoleBreadcrumbs_33 = require('@bugsnag/plugin-console-breadcrumbs'); */\n  ;\n\n  /* removed: var _$networkBreadcrumbs_37 = require('@bugsnag/plugin-network-breadcrumbs'); */\n  ;\n\n  /* removed: var _$navigationBreadcrumbs_36 = require('@bugsnag/plugin-navigation-breadcrumbs'); */\n  ;\n\n  /* removed: var _$interactionBreadcrumbs_35 = require('@bugsnag/plugin-interaction-breadcrumbs'); */\n  ;\n\n  /* removed: var _$inlineScriptContent_34 = require('@bugsnag/plugin-inline-script-content'); */\n  ;\n\n  /* removed: var _$session_31 = require('@bugsnag/plugin-browser-session'); */\n  ;\n\n  /* removed: var _$clientIp_32 = require('@bugsnag/plugin-client-ip'); */\n  ;\n\n  /* removed: var _$stripQueryString_39 = require('@bugsnag/plugin-strip-query-string'); */\n  ; // delivery mechanisms\n\n  /* removed: var _$delivery_26 = require('@bugsnag/delivery-x-domain-request'); */\n  ;\n\n  /* removed: var _$delivery_27 = require('@bugsnag/delivery-xml-http-request'); */\n  ;\n  _$notifier_2 = function (opts) {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = {\n      apiKey: opts // support renamed/deprecated options\n    };\n    var warningMessage = '';\n    if (opts.endpoints && opts.endpoints.notify && !opts.endpoints.sessions) {\n      warningMessage += 'notify endpoint is set but sessions endpoint is not. No sessions will be sent.';\n    }\n    var bugsnag = new _$BugsnagClient_4({\n      name: name,\n      version: version,\n      url: url\n    });\n    bugsnag.setOptions(opts); // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n\n    bugsnag.delivery(window.XDomainRequest ? _$delivery_26 : _$delivery_27); // configure with user supplied options\n    // errors can be thrown here that prevent the lib from being in a useable state\n\n    bugsnag.configure(__schema_2);\n    if (warningMessage) bugsnag._logger.warn(warningMessage); // always-on browser-specific plugins\n\n    bugsnag.use(_$device_29);\n    bugsnag.use(_$context_28);\n    bugsnag.use(_$request_30);\n    bugsnag.use(_$throttle_38);\n    bugsnag.use(_$session_31);\n    bugsnag.use(_$clientIp_32);\n    bugsnag.use(_$stripQueryString_39); // optional browser-specific plugins\n\n    if (bugsnag.config.autoNotify !== false) {\n      bugsnag.use(_$onerror_40);\n      bugsnag.use(_$unhandledRejection_41);\n    }\n    bugsnag.use(_$navigationBreadcrumbs_36);\n    bugsnag.use(_$interactionBreadcrumbs_35);\n    bugsnag.use(_$networkBreadcrumbs_37);\n    bugsnag.use(_$consoleBreadcrumbs_33); // this one added last to avoid wrapping functionality before bugsnag uses it\n\n    bugsnag.use(_$inlineScriptContent_34);\n    bugsnag._logger.debug(\"Loaded!\");\n    return bugsnag.config.autoCaptureSessions ? bugsnag.startSession() : bugsnag;\n  }; // Angular's DI system needs this interface to match what is exposed\n  // in the type definition file (types/bugsnag.d.ts)\n\n  _$notifier_2.Bugsnag = {\n    Client: _$BugsnagClient_4,\n    Report: _$BugsnagReport_24,\n    Session: _$Session_25,\n    Breadcrumb: _$BugsnagBreadcrumb_3 // Export a \"default\" property for compatibility with ESM imports\n  };\n  _$notifier_2['default'] = _$notifier_2;\n  return _$notifier_2;\n});","map":{"version":3,"names":["f","exports","module","define","amd","g","window","global","self","bugsnag","reduce","arr","fn","accum","val","i","len","length","filter","item","concat","map","includes","x","_hasDontEnumBug","toString","propertyIsEnumerable","_dontEnums","keys","obj","result","prop","Object","prototype","hasOwnProperty","call","push","isArray","_pad","n","isoDate","d","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","_$esUtils_8","_$validators_15","intRange","min","max","Infinity","value","parseInt","stringWithLength","__filter_5","__reduce_5","__keys_5","__isArray_5","__includes_5","_$config_5","schema","apiKey","defaultValue","message","validate","appVersion","appType","autoNotify","beforeSend","endpoints","notify","sessions","autoCaptureSessions","k","opts","undefined","notifyReleaseStages","releaseStage","maxBreadcrumbs","autoBreadcrumbs","user","metaData","logger","method","filters","s","test","mergeDefaults","Error","key","errors","valid","__map_1","__stringWithLength_1","_$config_1","location","host","_extends","console","debug","getPrefixedConsole","consoleLog","consoleMethod","bind","__isoDate_3","BugsnagBreadcrumb","name","type","timestamp","toJSON","_$BugsnagBreadcrumb_3","_$asyncSome_6","cb","index","next","err","_$inferReleaseStage_10","client","app","config","_$isError_21","isError","_$iserror_11","_$runBeforeSend_14","report","onError","ret","then","setTimeout","shouldPreventSend","e","isIgnored","root","factory","_$stackframe_23","StackFrame","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","props","getArgs","args","setArgs","v","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","functionName","getFunctionName","join","fileName","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","Boolean","j","Number","String","_$errorStackParser_20","ErrorStackParser","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","ErrorStackParser$$parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","replace","ErrorStackParser$$parseV8OrIE","filtered","split","line","sanitizedLine","tokens","locationParts","pop","source","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","_$errorStackParser_7","_$hasStack_9","_$jsRuntime_12","navigator","product","Expo","_$stackGenerator_22","StackGenerator","backtrace","StackGenerator$$backtrace","maxStackSize","curr","arguments","callee","Array","RegExp","$1","caller","__reduce_24","__filter_24","BugsnagReport","errorClass","errorMessage","handledState","originalError","defaultHandledState","__isBugsnagReport","_ignored","_handledState","breadcrumbs","context","device","stringOrFallback","groupingHash","request","severity","frame","formatStackframe","JSON","stringify","session","ignore","updateMetaData","section","_updates","updates","removeMetaData","___extends_24","property","payloadVersion","exceptions","unhandled","severityReason","file","normaliseFunctionName","code","inProject","fallback","getStacktrace","errorFramesToSkip","generatedFramesToSkip","ensureReport","reportOrError","_$BugsnagReport_24","_$pad_18","pad","num","size","substr","env","globalCount","mimeTypesLength","mimeTypes","clientId","userAgent","_$fingerprint_17","fingerprint","c","blockSize","base","discreteValues","Math","pow","randomBlock","random","safeCounter","cuid","letter","getTime","counter","print","_$cuid_16","__isoDate_25","Session","id","startedAt","_handled","_unhandled","events","handled","trackError","_$Session_25","__map_4","__includes_4","__isArray_4","LOG_USAGE_ERR_PREFIX","REPORT_USAGE_ERR_PREFIX","BugsnagClient","notifier","version","url","_configured","_opts","_delivery","sendSession","sendReport","_logger","info","warn","_plugins","_session","BugsnagSession","apply","setOptions","___extends_4","configure","partialSchema","conf","validity","generateConfigErrorMessage","use","plugin","configSchema","_len","_key","init","getPlugin","delivery","l","sid","sessionDelegate","_sessionDelegate","startSession","leaveBreadcrumb","crumb","_this","_normaliseError","normaliseError","originalSeverity","onBeforeSendErr","preventSend","synthesizedErrorFramesToSkip","createAndLogUsageError","reason","msg","generateNotifyUsageMessage","notifyArgs","hasNecessaryFields","actual","_$BugsnagClient_4","_$safeJsonStringify_19","data","replacer","space","filterKeys","filterPaths","prepareObjForSerialization","MAX_DEPTH","MAX_EDGES","MIN_PRESERVED_DEPTH","REPLACEMENT_NODE","__isError_19","o","throwsMessage","find","haystack","needle","isDescendent","paths","path","shouldFilter","patterns","__isArray_19","safelyGetProp","seen","edges","visit","edgesExceeded","fResult","er","eResult","aResult","REPORT_FILTER_PATHS","SESSION_FILTER_PATHS","_$jsonPayload_13","payload","__isoDate_26","_$delivery_26","win","getApiUrl","req","XDomainRequest","onload","open","send","endpoint","matchPageProtocol","protocol","encodeURIComponent","_matchPageProtocol","pageProtocol","__isoDate_27","_$delivery_27","XMLHttpRequest","onreadystatechange","readyState","DONE","setRequestHeader","_$context_28","unshift","pathname","__isoDate_29","_$device_29","nav","locale","browserLanguage","systemLanguage","userLanguage","language","___extends_29","time","_$request_30","___extends_30","href","__isArray_31","__includes_31","_$session_31","sessionClient","___extends_31","_$clientIp_32","collectUserIp","___extends_32","clientIp","__map_33","__reduce_33","__filter_33","_$consoleBreadcrumbs_33","isDev","explicitlyDisabled","consoleBreadcrumbsEnabled","implicitlyDisabled","CONSOLE_LOG_METHODS","original","arg","stringified","_restore","destroy","forEach","__map_34","__reduce_34","__filter_34","MAX_LINE_LENGTH","MAX_SCRIPT_LENGTH","_$inlineScriptContent_34","doc","document","trackInlineScripts","originalLocation","html","DOMContentLoaded","getHtml","documentElement","outerHTML","prev","_lastScript","updateLastScript","script","getCurrentScript","currentScript","scripts","getElementsByTagName","addSurroundingCode","htmlLines","zeroBasedLine","start","end","content","innerHTML","_map","__proxy","__traceOriginalScript","get","_setTimeout","eventTargetCallbackAccessor","callbackAccessor","alsoCallOriginal","cba","__trace__","replacement","isEventHandlerObj","handleEvent","_$interactionBreadcrumbs_35","interactionBreadcrumbsEnabled","addEventListener","event","targetText","targetSelector","getNodeText","target","getNodeSelector","el","text","textContent","innerText","truncate","tagName","className","querySelectorAll","parentNode","childNodes","ommision","_$navigationBreadcrumbs_36","navigationBreadcrumbsEnabled","drop","oldURL","from","relativeLocation","to","newURL","state","getCurrentState","history","replaceState","wrapHistoryFn","pushState","a","createElement","search","hash","stateChangeToMetaData","title","currentPath","prevState","orig","refresh","BREADCRUMB_TYPE","REQUEST_SETUP_KEY","REQUEST_URL_KEY","REQUEST_METHOD_KEY","__includes_37","restoreFunctions","getIgnoredUrls","defaultIgnoredUrls","_$networkBreadcrumbs_37","_client","_getIgnoredUrls","_win","networkBreadcrumbsEnabled","monkeyPatchXMLHttpRequest","monkeyPatchFetch","nativeOpen","removeEventListener","handleXHRLoad","handleXHRError","status","fetch","polyfill","oldFetch","_arguments","urlOrRequest","options","Promise","resolve","reject","response","handleFetchSuccess","handleFetchError","__intRange_38","_$throttle_38","maxEvents","__map_39","_$stripQueryString_39","___extends_39","strip","_strip","_$onerror_40","onerror","messageOrEvent","lineNo","charNo","decorateStack","detail","extraParameters","prevOnError","culprit","setFileName","isActualNumber","setLineNumber","setColumnNumber","errorCharacter","__reduce_41","_listener","_$unhandledRejection_41","listener","isBluebird","fixBluebirdStacktrace","serializableReason","onunhandledrejection","promise","_ref","__schema_2","___extends_2","_$notifier_2","warningMessage","Bugsnag","Client","Report","Breadcrumb"],"sources":["/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/node_modules/browser-pack-flat/_prelude","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/es-utils.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/validators.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/config.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/dist/src/config.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/breadcrumb.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/async-some.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/infer-release-stage.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/iserror/index.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/iserror.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/run-before-send.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/stackframe/stackframe.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/error-stack-parser/error-stack-parser.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/error-stack-parser.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/has-stack.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/js-runtime.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/stack-generator/stack-generator.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/report.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/lib/pad.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/lib/fingerprint.browser.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/index.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/session.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/client.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/safe-json-stringify/index.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/core/lib/json-payload.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/delivery-x-domain-request/delivery.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/delivery-xml-http-request/delivery.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-browser-context/context.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-browser-device/device.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-browser-request/request.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-browser-session/session.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-client-ip/client-ip.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-console-breadcrumbs/console-breadcrumbs.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-inline-script-content/inline-script-content.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-interaction-breadcrumbs/interaction-breadcrumbs.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-navigation-breadcrumbs/navigation-breadcrumbs.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-network-breadcrumbs/network-breadcrumbs.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-simple-throttle/throttle.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-strip-query-string/strip-query-string.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-window-onerror/onerror.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/plugin-window-unhandled-rejection/unhandled-rejection.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/browser/dist/src/notifier.js","/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/@bugsnag/node_modules/browser-pack-flat/_postlude"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bugsnag = f()}})(function(){var define,module,exports;\n","// minimal implementations of useful ES functionality\n\n// all we really need for arrays is reduce – everything else is just sugar!\n\n// Array#reduce\nconst reduce = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n\n// Array#filter\nconst filter = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n\n// Array#map\nconst map = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n\n// Array#includes\nconst includes = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nconst keys = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n\n// Array#isArray\nconst isArray = obj => Object.prototype.toString.call(obj) === '[object Array]'\n\nconst _pad = n => n < 10 ? `0${n}` : n\n\n// Date#toISOString\nconst isoDate = () => {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\n  const d = new Date()\n  return d.getUTCFullYear() +\n    '-' + _pad(d.getUTCMonth() + 1) +\n    '-' + _pad(d.getUTCDate()) +\n    'T' + _pad(d.getUTCHours()) +\n    ':' + _pad(d.getUTCMinutes()) +\n    ':' + _pad(d.getUTCSeconds()) +\n    '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n    'Z'\n}\n\nmodule.exports = { map, reduce, filter, includes, keys, isArray, isoDate }\n","exports.intRange = (min = 1, max = Infinity) => value =>\n  typeof value === 'number' &&\n  parseInt('' + value, 10) === value &&\n  value >= min && value <= max\n\nexports.stringWithLength = value => typeof value === 'string' && !!value.length\n","const { filter, reduce, keys, isArray, includes } = require('./lib/es-utils')\nconst { intRange, stringWithLength } = require('./lib/validators')\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: 'is required',\n    validate: stringWithLength\n  },\n  appVersion: {\n    defaultValue: () => null,\n    message: 'should be a string',\n    validate: value => value === null || stringWithLength(value)\n  },\n  appType: {\n    defaultValue: () => null,\n    message: 'should be a string',\n    validate: value => value === null || stringWithLength(value)\n  },\n  autoNotify: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: value => value === true || value === false\n  },\n  beforeSend: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n  },\n  endpoints: {\n    defaultValue: () => ({\n      notify: 'https://notify.bugsnag.com',\n      sessions: 'https://sessions.bugsnag.com'\n    }),\n    message: 'should be an object containing endpoint URLs { notify, sessions }. sessions is optional if autoCaptureSessions=false',\n    validate: (val, obj) =>\n      // first, ensure it's an object\n      (val && typeof val === 'object') &&\n      (\n        // endpoints.notify must always be set\n        stringWithLength(val.notify) &&\n        // endpoints.sessions must be set unless session tracking is explicitly off\n        (obj.autoCaptureSessions === false || stringWithLength(val.sessions))\n      ) &&\n      // ensure no keys other than notify/session are set on endpoints object\n      filter(keys(val), k => !includes([ 'notify', 'sessions' ], k)).length === 0\n  },\n  autoCaptureSessions: {\n    defaultValue: (val, opts) => opts.endpoints === undefined || (!!opts.endpoints && !!opts.endpoints.sessions),\n    message: 'should be true|false',\n    validate: val => val === true || val === false\n  },\n  notifyReleaseStages: {\n    defaultValue: () => null,\n    message: 'should be an array of strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: 'should be a string',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 20,\n    message: 'should be a number ≤40',\n    validate: value => intRange(0, 40)(value)\n  },\n  autoBreadcrumbs: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: (value) => typeof value === 'boolean'\n  },\n  user: {\n    defaultValue: () => null,\n    message: '(object) user should be an object',\n    validate: (value) => typeof value === 'object'\n  },\n  metaData: {\n    defaultValue: () => null,\n    message: 'should be an object',\n    validate: (value) => typeof value === 'object'\n  },\n  logger: {\n    defaultValue: () => undefined,\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: value =>\n      (!value) ||\n      (value && reduce(\n        [ 'debug', 'info', 'warn', 'error' ],\n        (accum, method) => accum && typeof value[method] === 'function',\n        true\n      ))\n  },\n  filters: {\n    defaultValue: () => [ 'password' ],\n    message: 'should be an array of strings|regexes',\n    validate: value =>\n      isArray(value) && value.length === filter(value, s =>\n        (typeof s === 'string' || (s && typeof s.test === 'function'))\n      ).length\n  }\n}\n\nmodule.exports.mergeDefaults = (opts, schema) => {\n  if (!opts || !schema) throw new Error('opts and schema objects are required')\n  return reduce(keys(schema), (accum, key) => {\n    accum[key] = opts[key] !== undefined ? opts[key] : schema[key].defaultValue(opts[key], opts)\n    return accum\n  }, {})\n}\n\nmodule.exports.validate = (opts, schema) => {\n  if (!opts || !schema) throw new Error('opts and schema objects are required')\n  const errors = reduce(keys(schema), (accum, key) => {\n    if (schema[key].validate(opts[key], opts)) return accum\n    return accum.concat({ key, message: schema[key].message, value: opts[key] })\n  }, [])\n  return { valid: !errors.length, errors }\n}\n","const { schema } = require('@bugsnag/core/config')\nconst { map } = require('@bugsnag/core/lib/es-utils')\nconst { stringWithLength } = require('@bugsnag/core/lib/validators')\n\nmodule.exports = {\n  releaseStage: {\n    defaultValue: () => {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development'\n      return 'production'\n    },\n    message: 'should be set',\n    validate: stringWithLength\n  },\n  logger: {\n    ...schema.logger,\n    defaultValue: () =>\n      // set logger based on browser capability\n      (typeof console !== 'undefined' && typeof console.debug === 'function')\n        ? getPrefixedConsole()\n        : undefined\n  }\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console['log']\n  map([ 'debug', 'info', 'warn', 'error' ], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n","const { isoDate } = require('./lib/es-utils')\n\nclass BugsnagBreadcrumb {\n  constructor (name = '[anonymous]', metaData = {}, type = 'manual', timestamp = isoDate()) {\n    this.type = type\n    this.name = name\n    this.metaData = metaData\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.name,\n      timestamp: this.timestamp,\n      metaData: this.metaData\n    }\n  }\n}\n\nmodule.exports = BugsnagBreadcrumb\n","// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n//\n// We can't use that because:\n//   a) it inflates the bundle size to over 10kB\n//   b) it depends on a module that uses Object.keys()\n//      (which we can't use due to ie8 support)\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, true)\n//   - or the end of the array is reached\n// the callback (cb) will be passed true if any of the items resulted in a true\n// callback, otherwise false\nmodule.exports = (arr, fn, cb) => {\n  const length = arr.length\n  let index = 0\n\n  const next = () => {\n    if (index >= length) return cb(null, false)\n    fn(arr[index], (err, result) => {\n      if (err) return cb(err, false)\n      if (result === true) return cb(null, true)\n      index++\n      next()\n    })\n  }\n\n  next()\n}\n","module.exports = client =>\n  client.app && typeof client.app.releaseStage === 'string'\n    ? client.app.releaseStage\n    : client.config.releaseStage\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","module.exports = require('iserror')\n","module.exports = (report, onError) => (fn, cb) => {\n  if (typeof fn !== 'function') return cb(null, false)\n  try {\n    // if function appears sync…\n    if (fn.length !== 2) {\n      const ret = fn(report)\n      // check if it returned a \"thenable\" (promise)\n      if (ret && typeof ret.then === 'function') {\n        return ret.then(\n          // resolve\n          val => setTimeout(() => cb(null, shouldPreventSend(report, val)), 0),\n          // reject\n          err => {\n            setTimeout(() => {\n              onError(err)\n              return cb(null, false)\n            })\n          }\n        )\n      }\n      return cb(null, shouldPreventSend(report, ret))\n    }\n    // if function is async…\n    fn(report, (err, result) => {\n      if (err) {\n        onError(err)\n        return cb(null, false)\n      }\n      cb(null, shouldPreventSend(report, result))\n    })\n  } catch (e) {\n    onError(e)\n    cb(null, false)\n  }\n}\n\nconst shouldPreventSend = (report, value) => report.isIgnored() || value === false\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","module.exports = require('error-stack-parser')\n","// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' &&\n  err.stack !== `${err.name}: ${err.message}`\n","module.exports = process.env.IS_BROWSER\n  ? 'browserjs'\n  : ((typeof navigator !== 'undefined' && navigator.product === 'ReactNative')\n    ? (typeof Expo !== 'undefined' ? 'expojs' : 'reactnativejs')\n    : 'nodejs')\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","const ErrorStackParser = require('./lib/error-stack-parser')\nconst StackGenerator = require('stack-generator')\nconst hasStack = require('./lib/has-stack')\nconst { reduce, filter } = require('./lib/es-utils')\nconst jsRuntime = require('./lib/js-runtime')\n\nclass BugsnagReport {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState(), originalError) {\n    // duck-typing ftw >_<\n    this.__isBugsnagReport = true\n\n    this._ignored = false\n\n    // private (un)handled state\n    this._handledState = handledState\n\n    // setable props\n    this.app = undefined\n    this.apiKey = undefined\n    this.breadcrumbs = []\n    this.context = undefined\n    this.device = undefined\n    this.errorClass = stringOrFallback(errorClass, '[no error class]')\n    this.errorMessage = stringOrFallback(errorMessage, '[no error message]')\n    this.groupingHash = undefined\n    this.metaData = {}\n    this.request = undefined\n    this.severity = this._handledState.severity\n    this.stacktrace = reduce(stacktrace, (accum, frame) => {\n      const f = formatStackframe(frame)\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum\n        return accum.concat(f)\n      } catch (e) {\n        return accum\n      }\n    }, [])\n    this.user = undefined\n    this.session = undefined\n    this.originalError = originalError\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  ignore () {\n    this._ignored = true\n  }\n\n  isIgnored () {\n    return this._ignored\n  }\n\n  updateMetaData (section, ...args) {\n    if (!section) return this\n    let updates\n\n    // updateMetaData(\"section\", null) -> removes section\n    if (args[0] === null) return this.removeMetaData(section)\n\n    // updateMetaData(\"section\", \"property\", null) -> removes property from section\n    if (args[1] === null) return this.removeMetaData(section, args[0], args[1])\n\n    // normalise the two supported input types into object form\n    if (typeof args[0] === 'object') updates = args[0]\n    if (typeof args[0] === 'string') updates = { [args[0]]: args[1] }\n\n    // exit if we don't have an updates object at this point\n    if (!updates) return this\n\n    // ensure a section with this name exists\n    if (!this.metaData[section]) this.metaData[section] = {}\n\n    // merge the updates with the existing section\n    this.metaData[section] = { ...this.metaData[section], ...updates }\n\n    return this\n  }\n\n  removeMetaData (section, property) {\n    if (typeof section !== 'string') return this\n\n    // remove an entire section\n    if (!property) {\n      delete this.metaData[section]\n      return this\n    }\n\n    // remove a single property from a section\n    if (this.metaData[section]) {\n      delete this.metaData[section][property]\n      return this\n    }\n\n    return this\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: [\n        {\n          errorClass: this.errorClass,\n          message: this.errorMessage,\n          stacktrace: this.stacktrace,\n          type: jsRuntime\n        }\n      ],\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      user: this.user,\n      metaData: this.metaData,\n      groupingHash: this.groupingHash,\n      request: this.request,\n      session: this.session\n    }\n  }\n}\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst stringOrFallback = (str, fallback) => typeof str === 'string' && str ? str : fallback\n\n// Helpers\n\nBugsnagReport.getStacktrace = function (error, errorFramesToSkip = 0, generatedFramesToSkip = 0) {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // in IE11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n  try {\n    throw error\n  } catch (e) {\n    if (hasStack(e)) return ErrorStackParser.parse(error).slice(1 + generatedFramesToSkip)\n    // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n    try {\n      return filter(StackGenerator.backtrace(), frame =>\n        (frame.functionName || '').indexOf('StackGenerator$$') === -1\n      ).slice(1 + generatedFramesToSkip)\n    } catch (e) {\n      return []\n    }\n  }\n}\n\nBugsnagReport.ensureReport = function (reportOrError, errorFramesToSkip = 0, generatedFramesToSkip = 0) {\n  // notify() can be called with a Report object. In this case no action is required\n  if (reportOrError.__isBugsnagReport) return reportOrError\n  try {\n    const stacktrace = BugsnagReport.getStacktrace(reportOrError, errorFramesToSkip, 1 + generatedFramesToSkip)\n    return new BugsnagReport(reportOrError.name, reportOrError.message, stacktrace, undefined, reportOrError)\n  } catch (e) {\n    return new BugsnagReport(reportOrError.name, reportOrError.message, [], undefined, reportOrError)\n  }\n}\n\nmodule.exports = BugsnagReport\n","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","const { isoDate } = require('./lib/es-utils')\nconst cuid = require('@bugsnag/cuid')\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = isoDate()\n    this._handled = 0\n    this._unhandled = 0\n  }\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n  trackError (report) {\n    this[report._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\nmodule.exports = Session\n","const config = require('./config')\nconst BugsnagReport = require('./report')\nconst BugsnagBreadcrumb = require('./breadcrumb')\nconst BugsnagSession = require('./session')\nconst { map, includes, isArray } = require('./lib/es-utils')\nconst inferReleaseStage = require('./lib/infer-release-stage')\nconst isError = require('./lib/iserror')\nconst some = require('./lib/async-some')\nconst runBeforeSend = require('./lib/run-before-send')\n\nconst LOG_USAGE_ERR_PREFIX = `Usage error.`\nconst REPORT_USAGE_ERR_PREFIX = `Bugsnag usage error.`\n\nclass BugsnagClient {\n  constructor (notifier) {\n    if (!notifier || !notifier.name || !notifier.version || !notifier.url) {\n      throw new Error('`notifier` argument is required')\n    }\n\n    // notifier id\n    this.notifier = notifier\n\n    // configure() should be called before notify()\n    this._configured = false\n\n    // intialise opts and config\n    this._opts = {}\n    this.config = {}\n\n    // // i/o\n    this._delivery = { sendSession: () => {}, sendReport: () => {} }\n    this._logger = { debug: () => {}, info: () => {}, warn: () => {}, error: () => {} }\n\n    // plugins\n    this._plugins = {}\n\n    this._session = null\n\n    this.breadcrumbs = []\n\n    // setable props\n    this.app = {}\n    this.context = undefined\n    this.device = undefined\n    this.metaData = undefined\n    this.request = undefined\n    this.user = {}\n\n    // expose internal constructors\n    this.BugsnagClient = BugsnagClient\n    this.BugsnagReport = BugsnagReport\n    this.BugsnagBreadcrumb = BugsnagBreadcrumb\n    this.BugsnagSession = BugsnagSession\n\n    var self = this\n    var notify = this.notify\n    this.notify = function () {\n      return notify.apply(self, arguments)\n    }\n  }\n\n  setOptions (opts) {\n    this._opts = { ...this._opts, ...opts }\n  }\n\n  configure (partialSchema = config.schema) {\n    const conf = config.mergeDefaults(this._opts, partialSchema)\n    const validity = config.validate(conf, partialSchema)\n\n    if (!validity.valid === true) throw new Error(generateConfigErrorMessage(validity.errors))\n\n    // update and elevate some special options if they were passed in at this point\n    if (typeof conf.beforeSend === 'function') conf.beforeSend = [ conf.beforeSend ]\n    if (conf.appVersion) this.app.version = conf.appVersion\n    if (conf.appType) this.app.type = conf.appType\n    if (conf.metaData) this.metaData = conf.metaData\n    if (conf.user) this.user = conf.user\n    if (conf.logger) this.logger(conf.logger)\n\n    // merge with existing config\n    this.config = { ...this.config, ...conf }\n\n    this._configured = true\n\n    return this\n  }\n\n  use (plugin, ...args) {\n    if (!this._configured) throw new Error('client not configured')\n    if (plugin.configSchema) this.configure(plugin.configSchema)\n    const result = plugin.init(this, ...args)\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[`~${plugin.name}~`] = result\n    return this\n  }\n\n  getPlugin (name) {\n    return this._plugins[`~${name}~`]\n  }\n\n  delivery (d) {\n    this._delivery = d(this)\n    return this\n  }\n\n  logger (l, sid) {\n    this._logger = l\n    return this\n  }\n\n  sessionDelegate (s) {\n    this._sessionDelegate = s\n    return this\n  }\n\n  startSession () {\n    if (!this._sessionDelegate) {\n      this._logger.warn('No session implementation is installed')\n      return this\n    }\n    return this._sessionDelegate.startSession(this)\n  }\n\n  leaveBreadcrumb (name, metaData, type, timestamp) {\n    if (!this._configured) throw new Error('client not configured')\n\n    // coerce bad values so that the defaults get set\n    name = name || undefined\n    type = typeof type === 'string' ? type : undefined\n    timestamp = typeof timestamp === 'string' ? timestamp : undefined\n    metaData = typeof metaData === 'object' && metaData !== null ? metaData : undefined\n\n    // if no name and no metaData, usefulness of this crumb is questionable at best so discard\n    if (typeof name !== 'string' && !metaData) return\n\n    const crumb = new BugsnagBreadcrumb(name, metaData, type, timestamp)\n\n    // push the valid crumb onto the queue and maintain the length\n    this.breadcrumbs.push(crumb)\n    if (this.breadcrumbs.length > this.config.maxBreadcrumbs) {\n      this.breadcrumbs = this.breadcrumbs.slice(this.breadcrumbs.length - this.config.maxBreadcrumbs)\n    }\n\n    return this\n  }\n\n  notify (error, opts = {}, cb = () => {}) {\n    if (!this._configured) throw new Error('client not configured')\n\n    // releaseStage can be set via config.releaseStage or client.app.releaseStage\n    const releaseStage = inferReleaseStage(this)\n\n    // ensure we have an error (or a reasonable object representation of an error)\n    let { err, errorFramesToSkip, _opts } = normaliseError(error, opts, this._logger)\n    if (_opts) opts = _opts\n\n    // ensure opts is an object\n    if (typeof opts !== 'object' || opts === null) opts = {}\n\n    // create a report from the error, if it isn't one already\n    const report = BugsnagReport.ensureReport(err, errorFramesToSkip, 2)\n\n    report.app = { ...{ releaseStage }, ...report.app, ...this.app }\n    report.context = report.context || opts.context || this.context || undefined\n    report.device = { ...report.device, ...this.device, ...opts.device }\n    report.request = { ...report.request, ...this.request, ...opts.request }\n    report.user = { ...report.user, ...this.user, ...opts.user }\n    report.metaData = { ...report.metaData, ...this.metaData, ...opts.metaData }\n    report.breadcrumbs = this.breadcrumbs.slice(0)\n\n    if (this._session) {\n      this._session.trackError(report)\n      report.session = this._session\n    }\n\n    // set severity if supplied\n    if (opts.severity !== undefined) {\n      report.severity = opts.severity\n      report._handledState.severityReason = { type: 'userSpecifiedSeverity' }\n    }\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(this.config.notifyReleaseStages) && !includes(this.config.notifyReleaseStages, releaseStage)) {\n      this._logger.warn(`Report not sent due to releaseStage/notifyReleaseStages configuration`)\n      return cb(null, report)\n    }\n\n    const originalSeverity = report.severity\n\n    const beforeSend = [].concat(opts.beforeSend).concat(this.config.beforeSend)\n    const onBeforeSendErr = err => {\n      this._logger.error(`Error occurred in beforeSend callback, continuing anyway…`)\n      this._logger.error(err)\n    }\n\n    some(beforeSend, runBeforeSend(report, onBeforeSendErr), (err, preventSend) => {\n      if (err) onBeforeSendErr(err)\n\n      if (preventSend) {\n        this._logger.debug(`Report not sent due to beforeSend callback`)\n        return cb(null, report)\n      }\n\n      // only leave a crumb for the error if actually got sent\n      if (this.config.autoBreadcrumbs) {\n        this.leaveBreadcrumb(report.errorClass, {\n          errorClass: report.errorClass,\n          errorMessage: report.errorMessage,\n          severity: report.severity\n        }, 'error')\n      }\n\n      if (originalSeverity !== report.severity) {\n        report._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n      }\n\n      this._delivery.sendReport({\n        apiKey: report.apiKey || this.config.apiKey,\n        notifier: this.notifier,\n        events: [ report ]\n      }, (err) => cb(err, report))\n    })\n  }\n}\n\nconst normaliseError = (error, opts, logger) => {\n  const synthesizedErrorFramesToSkip = 3\n\n  const createAndLogUsageError = reason => {\n    const msg = generateNotifyUsageMessage(reason)\n    logger.warn(`${LOG_USAGE_ERR_PREFIX} ${msg}`)\n    return new Error(`${REPORT_USAGE_ERR_PREFIX} ${msg}`)\n  }\n\n  let err\n  let errorFramesToSkip = 0\n  let _opts\n  switch (typeof error) {\n    case 'string':\n      if (typeof opts === 'string') {\n        // ≤v3 used to have a notify('ErrorName', 'Error message') interface\n        // report usage/deprecation errors if this function is called like that\n        err = createAndLogUsageError('string/string')\n        _opts = { metaData: { notifier: { notifyArgs: [ error, opts ] } } }\n      } else {\n        err = new Error(String(error))\n        errorFramesToSkip = synthesizedErrorFramesToSkip\n      }\n      break\n    case 'number':\n    case 'boolean':\n      err = new Error(String(error))\n      break\n    case 'function':\n      err = createAndLogUsageError('function')\n      break\n    case 'object':\n      if (error !== null && (isError(error) || error.__isBugsnagReport)) {\n        err = error\n      } else if (error !== null && hasNecessaryFields(error)) {\n        err = new Error(error.message || error.errorMessage)\n        err.name = error.name || error.errorClass\n        errorFramesToSkip = synthesizedErrorFramesToSkip\n      } else {\n        err = createAndLogUsageError(error === null ? 'null' : 'unsupported object')\n      }\n      break\n    default:\n      err = createAndLogUsageError('nothing')\n  }\n  return { err, errorFramesToSkip, _opts }\n}\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nconst generateConfigErrorMessage = errors =>\n  `Bugsnag configuration error\\n${map(errors, (err) => `\"${err.key}\" ${err.message} \\n    got ${stringify(err.value)}`).join('\\n\\n')}`\n\nconst generateNotifyUsageMessage = actual =>\n  `notify() expected error/opts parameters, got ${actual}`\n\nconst stringify = val => typeof val === 'object' ? JSON.stringify(val) : String(val)\n\nmodule.exports = BugsnagClient\n","module.exports = function (data, replacer, space, opts) {\n  var filterKeys = opts && opts.filterKeys ? opts.filterKeys : []\n  var filterPaths = opts && opts.filterPaths ? opts.filterPaths : []\n  return JSON.stringify(\n    prepareObjForSerialization(data, filterKeys, filterPaths),\n    replacer,\n    space\n  )\n}\n\nvar MAX_DEPTH = 20\nvar MAX_EDGES = 25000\nvar MIN_PRESERVED_DEPTH = 8\n\nvar REPLACEMENT_NODE = '...'\n\nfunction isError (o) {\n  return o instanceof Error ||\n    /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o))\n}\n\nfunction throwsMessage (err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']'\n}\n\nfunction find (haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true\n  }\n  return false\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent (paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true\n  }\n  return false\n}\n\nfunction shouldFilter (patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i] === key) return true\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true\n  }\n  return false\n}\n\nfunction isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction safelyGetProp (obj, prop) {\n  try {\n    return obj[prop]\n  } catch (err) {\n    return throwsMessage(err)\n  }\n}\n\nfunction prepareObjForSerialization (obj, filterKeys, filterPaths) {\n  var seen = [] // store references to objects we have seen before\n  var edges = 0\n\n  function visit (obj, path) {\n    function edgesExceeded () {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES\n    }\n\n    edges++\n\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE\n    if (edgesExceeded()) return REPLACEMENT_NODE\n    if (obj === null || typeof obj !== 'object') return obj\n    if (find(seen, obj)) return '[Circular]'\n\n    seen.push(obj)\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--\n        var fResult = visit(obj.toJSON(), path)\n        seen.pop()\n        return fResult\n      } catch (err) {\n        return throwsMessage(err)\n      }\n    }\n\n    var er = isError(obj)\n    if (er) {\n      edges--\n      var eResult = visit({ name: obj.name, message: obj.message }, path)\n      seen.pop()\n      return eResult\n    }\n\n    if (isArray(obj)) {\n      var aResult = []\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE)\n          break\n        }\n        aResult.push(visit(obj[i], path.concat('[]')))\n      }\n      seen.pop()\n      return aResult\n    }\n\n    var result = {}\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue\n        if (isDescendent(filterPaths, path.join('.')) && shouldFilter(filterKeys, prop)) {\n          result[prop] = '[Filtered]'\n          continue\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE\n          break\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop))\n      }\n    } catch (e) {}\n    seen.pop()\n    return result\n  }\n\n  return visit(obj, [])\n}\n","const jsonStringify = require('@bugsnag/safe-json-stringify')\nconst REPORT_FILTER_PATHS = [\n  'events.[].app',\n  'events.[].metaData',\n  'events.[].user',\n  'events.[].breadcrumbs',\n  'events.[].request',\n  'events.[].device'\n]\nconst SESSION_FILTER_PATHS = [\n  'device',\n  'app',\n  'user'\n]\n\nmodule.exports.report = (report, filterKeys) => {\n  let payload = jsonStringify(report, null, null, { filterPaths: REPORT_FILTER_PATHS, filterKeys })\n  if (payload.length > 10e5) {\n    delete report.events[0].metaData\n    report.events[0].metaData = {\n      notifier:\n`WARNING!\nSerialized payload was ${payload.length / 10e5}MB (limit = 1MB)\nmetaData was removed`\n    }\n    payload = jsonStringify(report, null, null, { filterPaths: REPORT_FILTER_PATHS, filterKeys })\n    if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  }\n  return payload\n}\n\nmodule.exports.session = (report, filterKeys) => {\n  const payload = jsonStringify(report, null, null, { filterPaths: SESSION_FILTER_PATHS, filterKeys })\n  if (payload.length > 10e5) throw new Error('payload exceeded 1MB limit')\n  return payload\n}\n","const payload = require('@bugsnag/core/lib/json-payload')\nconst { isoDate } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = (client, win = window) => ({\n  sendReport: (report, cb = () => {}) => {\n    const url = getApiUrl(client.config, 'notify', '4', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.report(report, client.config.filters))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  },\n  sendSession: (session, cb = () => {}) => {\n    const url = getApiUrl(client.config, 'sessions', '1', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.session(session, client.config.filters))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  }\n})\n\nconst getApiUrl = (config, endpoint, version, win) =>\n  `${matchPageProtocol(config.endpoints[endpoint], win.location.protocol)}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=${version}&sentAt=${encodeURIComponent(isoDate())}`\n\nconst matchPageProtocol = module.exports._matchPageProtocol = (endpoint, pageProtocol) =>\n  pageProtocol === 'http:'\n    ? endpoint.replace(/^https:/, 'http:')\n    : endpoint\n","const payload = require('@bugsnag/core/lib/json-payload')\nconst { isoDate } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = (client, win = window) => ({\n  sendReport: (report, cb = () => {}) => {\n    try {\n      const url = client.config.endpoints.notify\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', report.apiKey || client.config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '4')\n      req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n      req.send(payload.report(report, client.config.filters))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  },\n  sendSession: (session, cb = () => {}) => {\n    try {\n      const url = client.config.endpoints.sessions\n      const req = new win.XMLHttpRequest()\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) cb(null)\n      }\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', client.config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '1')\n      req.setRequestHeader('Bugsnag-Sent-At', isoDate())\n      req.send(payload.session(session, client.config.filters))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  }\n})\n","/*\n * Sets the default context to be the current URL\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.context) return\n      report.context = win.location.pathname\n    })\n  }\n}\n","const { isoDate } = require('@bugsnag/core/lib/es-utils')\n\n/*\n * Automatically detects browser device details\n */\nmodule.exports = {\n  init: (client, nav = navigator) => {\n    const device = {\n      locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n      userAgent: nav.userAgent\n    }\n\n    // merge with anything already set on the client\n    client.device = { ...device, ...client.device }\n\n    // add time just as the report is sent\n    client.config.beforeSend.unshift((report) => {\n      report.device = { ...report.device, time: isoDate() }\n    })\n  }\n}\n","/*\n * Sets the report request: { url } to be the current href\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    client.config.beforeSend.unshift(report => {\n      if (report.request && report.request.url) return\n      report.request = { ...report.request, url: win.location.href }\n    })\n  }\n}\n","const { isArray, includes } = require('@bugsnag/core/lib/es-utils')\nconst inferReleaseStage = require('@bugsnag/core/lib/infer-release-stage')\n\nmodule.exports = {\n  init: client => client.sessionDelegate(sessionDelegate)\n}\n\nconst sessionDelegate = {\n  startSession: client => {\n    const sessionClient = client\n    sessionClient._session = new client.BugsnagSession()\n\n    const releaseStage = inferReleaseStage(sessionClient)\n\n    // exit early if the reports should not be sent on the current releaseStage\n    if (isArray(sessionClient.config.notifyReleaseStages) && !includes(sessionClient.config.notifyReleaseStages, releaseStage)) {\n      sessionClient._logger.warn(`Session not sent due to releaseStage/notifyReleaseStages configuration`)\n      return sessionClient\n    }\n\n    if (!sessionClient.config.endpoints.sessions) {\n      sessionClient._logger.warn(`Session not sent due to missing endpoints.sessions configuration`)\n      return sessionClient\n    }\n\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient.notifier,\n      device: sessionClient.device,\n      app: { ...{ releaseStage }, ...sessionClient.app },\n      sessions: [\n        {\n          id: sessionClient._session.id,\n          startedAt: sessionClient._session.startedAt,\n          user: sessionClient.user\n        }\n      ]\n    })\n\n    return sessionClient\n  }\n}\n","/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  init: (client) => {\n    if (client.config.collectUserIp) return\n\n    client.config.beforeSend.push(report => {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (report.user && typeof report.user.id === 'undefined') delete report.user.id\n      report.user = { id: '[NOT COLLECTED]', ...report.user }\n      report.request = { clientIp: '[NOT COLLECTED]', ...report.request }\n    })\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: () => true,\n      message: 'should be true|false',\n      validate: value => value === true || value === false\n    }\n  }\n}\n","const { map, reduce, filter } = require('@bugsnag/core/lib/es-utils')\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\nexports.init = (client) => {\n  const isDev = /^dev(elopment)?$/.test(client.config.releaseStage)\n\n  const explicitlyDisabled = client.config.consoleBreadcrumbsEnabled === false\n  const implicitlyDisabled = (client.config.autoBreadcrumbs === false || isDev) && client.config.consoleBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  map(CONSOLE_LOG_METHODS, method => {\n    const original = console[method]\n    console[method] = (...args) => {\n      client.leaveBreadcrumb('Console output', reduce(args, (accum, arg, i) => {\n        // do the best/simplest stringification of each argument\n        let stringified = '[Unknown value]'\n        // this may fail if the input is:\n        // - an object whose [[Prototype]] is null (no toString)\n        // - an object with a broken toString or @@toPrimitive implementation\n        try { stringified = String(arg) } catch (e) {}\n        // if it stringifies to [object Object] attempt to JSON stringify\n        if (stringified === '[object Object]') {\n          // catch stringify errors and fallback to [object Object]\n          try { stringified = JSON.stringify(arg) } catch (e) {}\n        }\n        accum[`[${i}]`] = stringified\n        return accum\n      }, {\n        severity: method.indexOf('group') === 0 ? 'log' : method\n      }), 'log')\n      original.apply(console, args)\n    }\n    console[method]._restore = () => { console[method] = original }\n  })\n}\n\nexports.configSchema = {\n  consoleBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => CONSOLE_LOG_METHODS.forEach(method => {\n    if (typeof console[method]._restore === 'function') console[method]._restore()\n  })\n}\n\nconst CONSOLE_LOG_METHODS = filter([ 'log', 'debug', 'info', 'warn', 'error' ], method =>\n  typeof console !== 'undefined' && typeof console[method] === 'function'\n)\n","const { map, reduce, filter } = require('@bugsnag/core/lib/es-utils')\nconst MAX_LINE_LENGTH = 200\nconst MAX_SCRIPT_LENGTH = 500000\n\nmodule.exports = {\n  init: (client, doc = document, win = window) => {\n    if (!client.config.trackInlineScripts) return\n\n    const originalLocation = win.location.href\n    let html = ''\n    let DOMContentLoaded = false\n    const getHtml = () => doc.documentElement.outerHTML\n\n    // get whatever HTML exists at this point in time\n    html = getHtml()\n    const prev = doc.onreadystatechange\n    // then update it when the DOM content has loaded\n    doc.onreadystatechange = function () {\n      // IE8 compatible alternative to document#DOMContentLoaded\n      if (doc.readyState === 'interactive') {\n        html = getHtml()\n        DOMContentLoaded = true\n      }\n      try { prev.apply(this, arguments) } catch (e) {}\n    }\n\n    var _lastScript = null\n    const updateLastScript = script => {\n      _lastScript = script\n    }\n\n    const getCurrentScript = () => {\n      var script = doc.currentScript || _lastScript\n      if (!script && !DOMContentLoaded) {\n        var scripts = doc.scripts || doc.getElementsByTagName('script')\n        script = scripts[scripts.length - 1]\n      }\n      return script\n    }\n\n    const addSurroundingCode = lineNumber => {\n      // get whatever html has rendered at this point\n      if (!DOMContentLoaded || !html) html = getHtml()\n      // simulate the raw html\n      const htmlLines = [ '<!-- DOC START -->' ].concat(html.split('\\n'))\n      const zeroBasedLine = lineNumber - 1\n      const start = Math.max(zeroBasedLine - 3, 0)\n      const end = Math.min(zeroBasedLine + 3, htmlLines.length)\n      return reduce(htmlLines.slice(start, end), (accum, line, i) => {\n        accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH)\n        return accum\n      }, {})\n    }\n\n    client.config.beforeSend.unshift(report => {\n      // remove any of our own frames that may be part the stack this\n      // happens before the inline script check as it happens for all errors\n      report.stacktrace = filter(report.stacktrace, f => !(/__trace__$/.test(f.method)))\n\n      const frame = report.stacktrace[0]\n\n      // if frame.file exists and is not the original location of the page, this can't be an inline script\n      if (frame && frame.file && frame.file.replace(/#.*$/, '') !== originalLocation.replace(/#.*$/, '')) return\n\n      // grab the last script known to have run\n      const currentScript = getCurrentScript()\n      if (currentScript) {\n        const content = currentScript.innerHTML\n        report.updateMetaData(\n          'script',\n          'content',\n          content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH)\n        )\n      }\n\n      // only attempt to grab some surrounding code if we have a line number\n      if (!frame || !frame.lineNumber) return\n      frame.code = addSurroundingCode(frame.lineNumber)\n    })\n\n    // Proxy all the timer functions whose callback is their 0th argument.\n    // Keep a reference to the original setTimeout because we need it later\n    const [ _setTimeout ] = map([\n      'setTimeout',\n      'setInterval',\n      'setImmediate',\n      'requestAnimationFrame'\n    ], fn =>\n      __proxy(win, fn, original =>\n        __traceOriginalScript(original, args => ({\n          get: () => args[0],\n          replace: fn => { args[0] = fn }\n        }))\n      )\n    )\n\n    // Proxy all the host objects whose prototypes have an addEventListener function\n    map([\n      'EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode',\n      'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase',\n      'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow',\n      'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList',\n      'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'\n    ], o => {\n      if (!win[o] || !win[o].prototype || !win[o].prototype.hasOwnProperty || !win[o].prototype.hasOwnProperty('addEventListener')) return\n      __proxy(win[o].prototype, 'addEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor)\n      )\n      __proxy(win[o].prototype, 'removeEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor, true)\n      )\n    })\n\n    function __traceOriginalScript (fn, callbackAccessor, alsoCallOriginal = false) {\n      return function () {\n        // this is required for removeEventListener to remove anything added with\n        // addEventListener before the functions started being wrapped by Bugsnag\n        const args = Array.prototype.slice.call(arguments)\n        try {\n          const cba = callbackAccessor(args)\n          const cb = cba.get()\n          if (alsoCallOriginal) fn.apply(this, args)\n          if (typeof cb !== 'function') return fn.apply(this, args)\n          if (cb.__trace__) {\n            cba.replace(cb.__trace__)\n          } else {\n            var script = getCurrentScript()\n            // this function mustn't be annonymous due to a bug in the stack\n            // generation logic, meaning it gets tripped up\n            // see: https://github.com/stacktracejs/stack-generator/issues/6\n            cb.__trace__ = function __trace__ () {\n              // set the script that called this function\n              updateLastScript(script)\n              // immediately unset the currentScript synchronously below, however\n              // if this cb throws an error the line after will not get run so schedule\n              // an almost-immediate aysnc update too\n              _setTimeout(function () { updateLastScript(null) }, 0)\n              const ret = cb.apply(this, arguments)\n              updateLastScript(null)\n              return ret\n            }\n            cb.__trace__.__trace__ = cb.__trace__\n            cba.replace(cb.__trace__)\n          }\n        } catch (e) {\n          // swallow these errors on Selenium:\n          // Permission denied to access property '__trace__'\n          // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n        }\n        // IE8 doesn't let you call .apply() on setTimeout/setInterval\n        if (fn.apply) return fn.apply(this, args)\n        switch (args.length) {\n          case 1: return fn(args[0])\n          case 2: return fn(args[0], args[1])\n          default: return fn()\n        }\n      }\n    }\n  },\n  configSchema: {\n    trackInlineScripts: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n}\n\nfunction __proxy (host, name, replacer) {\n  var original = host[name]\n  if (!original) return original\n  var replacement = replacer(original)\n  host[name] = replacement\n  return original\n}\n\nfunction eventTargetCallbackAccessor (args) {\n  var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function'\n  return {\n    get: function () {\n      return isEventHandlerObj ? args[1].handleEvent : args[1]\n    },\n    replace: function (fn) {\n      if (isEventHandlerObj) {\n        args[1].handleEvent = fn\n      } else {\n        args[1] = fn\n      }\n    }\n  }\n}\n","/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nmodule.exports = {\n  init: (client, win = window) => {\n    if (!('addEventListener' in win)) return\n\n    const explicitlyDisabled = client.config.interactionBreadcrumbsEnabled === false\n    const implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.interactionBreadcrumbsEnabled !== true\n    if (explicitlyDisabled || implicitlyDisabled) return\n\n    win.addEventListener('click', (event) => {\n      let targetText, targetSelector\n      try {\n        targetText = getNodeText(event.target)\n        targetSelector = getNodeSelector(event.target, win)\n      } catch (e) {\n        targetText = '[hidden]'\n        targetSelector = '[hidden]'\n        client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z')\n      }\n      client.leaveBreadcrumb('UI click', { targetText, targetSelector }, 'user')\n    }, true)\n  },\n  configSchema: {\n    interactionBreadcrumbsEnabled: {\n      defaultValue: () => undefined,\n      validate: (value) => value === true || value === false || value === undefined,\n      message: 'should be true|false'\n    }\n  }\n}\n\n// extract text content from a element\nconst getNodeText = el => {\n  let text = el.textContent || el.innerText || ''\n  if (!text && (el.type === 'submit' || el.type === 'button')) text = el.value\n  text = text.replace(/^\\s+|\\s+$/g, '') // trim whitespace\n  return truncate(text, 140)\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector (el, win) {\n  const parts = [ el.tagName ]\n  if (el.id) parts.push('#' + el.id)\n  if (el.className && el.className.length) parts.push(`.${el.className.split(' ').join('.')}`)\n  // Can't get much more advanced with the current browser\n  if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('')\n  try {\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('')\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    const index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1\n    parts.push(`:nth-child(${index})`)\n  }\n  if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  // try prepending the parent node selector\n  if (el.parentNode) return `${getNodeSelector(el.parentNode, win)} > ${parts.join('')}`\n  return parts.join('')\n}\n\nfunction truncate (value, length) {\n  const ommision = '(...)'\n  if (value && value.length <= length) return value\n  return value.slice(0, length - ommision.length) + ommision\n}\n","/*\n * Leaves breadcrumbs when navigation methods are called or events are emitted\n */\nexports.init = (client, win = window) => {\n  if (!('addEventListener' in win)) return\n\n  const explicitlyDisabled = client.config.navigationBreadcrumbsEnabled === false\n  const implicitlyDisabled = client.config.autoBreadcrumbs === false && client.config.navigationBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  // returns a function that will drop a breadcrumb with a given name\n  const drop = name => () => client.leaveBreadcrumb(name, {}, 'navigation')\n\n  // simple drops – just names, no meta\n  win.addEventListener('pagehide', drop('Page hidden'), true)\n  win.addEventListener('pageshow', drop('Page shown'), true)\n  win.addEventListener('load', drop('Page loaded'), true)\n  win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true)\n  // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n  win.addEventListener('load', () => win.addEventListener('popstate', drop('Navigated back'), true))\n\n  // hashchange has some metaData that we care about\n  win.addEventListener('hashchange', event => {\n    const metaData = event.oldURL\n      ? { from: relativeLocation(event.oldURL, win), to: relativeLocation(event.newURL, win), state: getCurrentState(win) }\n      : { to: relativeLocation(win.location.href, win) }\n    client.leaveBreadcrumb('Hash changed', metaData, 'navigation')\n  }, true)\n\n  // the only way to know about replaceState/pushState is to wrap them… >_<\n\n  if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win)\n  if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win)\n\n  client.leaveBreadcrumb('Bugsnag loaded', {}, 'navigation')\n}\n\nexports.configSchema = {\n  navigationBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    win.history.replaceState._restore()\n    win.history.pushState._restore()\n  }\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nconst relativeLocation = (url, win) => {\n  const a = win.document.createElement('A')\n  a.href = url\n  return `${a.pathname}${a.search}${a.hash}`\n}\n\nconst stateChangeToMetaData = (win, state, title, url) => {\n  const currentPath = relativeLocation(win.location.href, win)\n  return { title, state, prevState: getCurrentState(win), to: url || currentPath, from: currentPath }\n}\n\nconst wrapHistoryFn = (client, target, fn, win) => {\n  const orig = target[fn]\n  target[fn] = (state, title, url) => {\n    client.leaveBreadcrumb(`History ${fn}`, stateChangeToMetaData(win, state, title, url), 'navigation')\n    // if throttle plugin is in use, refresh the event sent count\n    if (typeof client.refresh === 'function') client.refresh()\n    // if the client is operating in auto session-mode, a new route should trigger a new session\n    if (client.config.autoCaptureSessions) client.startSession()\n    // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n    // to '/undefined'. therefore we only pass the url if it's not undefined.\n    orig.apply(target, [ state, title ].concat(url !== undefined ? url : []))\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    target[fn]._restore = () => { target[fn] = orig }\n  }\n}\n\nconst getCurrentState = (win) => {\n  try {\n    return win.history.state\n  } catch (e) {}\n}\n","const BREADCRUMB_TYPE = 'request'\n\n// keys to safely store metadata on the request object\nconst REQUEST_SETUP_KEY = 'BS~~S'\nconst REQUEST_URL_KEY = 'BS~~U'\nconst REQUEST_METHOD_KEY = 'BS~~M'\n\nconst { includes } = require('@bugsnag/core/lib/es-utils')\n\nlet restoreFunctions = []\nlet client\nlet win\nlet getIgnoredUrls\n\nconst defaultIgnoredUrls = () => [\n  client.config.endpoints.notify,\n  client.config.endpoints.sessions\n]\n\n/*\n * Leaves breadcrumbs when network requests occur\n */\nexports.name = 'networkBreadcrumbs'\nexports.init = (_client, _getIgnoredUrls = defaultIgnoredUrls, _win = window) => {\n  const explicitlyDisabled = _client.config.networkBreadcrumbsEnabled === false\n  const implicitlyDisabled = _client.config.autoBreadcrumbs === false && _client.config.networkBreadcrumbsEnabled !== true\n  if (explicitlyDisabled || implicitlyDisabled) return\n\n  client = _client\n  win = _win\n  getIgnoredUrls = _getIgnoredUrls\n  monkeyPatchXMLHttpRequest()\n  monkeyPatchFetch()\n}\n\nexports.configSchema = {\n  networkBreadcrumbsEnabled: {\n    defaultValue: () => undefined,\n    validate: (value) => value === true || value === false || value === undefined,\n    message: 'should be true|false'\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => {\n    restoreFunctions.forEach(fn => fn())\n    restoreFunctions = []\n  }\n}\n\n// XMLHttpRequest monkey patch\nconst monkeyPatchXMLHttpRequest = () => {\n  if (!('addEventListener' in win.XMLHttpRequest.prototype)) return\n  const nativeOpen = win.XMLHttpRequest.prototype.open\n\n  // override native open()\n  win.XMLHttpRequest.prototype.open = function open (method, url) {\n    // store url and HTTP method for later\n    this[REQUEST_URL_KEY] = url\n    this[REQUEST_METHOD_KEY] = method\n\n    // if we have already setup listeners, it means open() was called twice, we need to remove\n    // the listeners and recreate them\n    if (this[REQUEST_SETUP_KEY]) {\n      this.removeEventListener('load', handleXHRLoad)\n      this.removeEventListener('error', handleXHRError)\n    }\n\n    // attach load event listener\n    this.addEventListener('load', handleXHRLoad)\n    // attach error event listener\n    this.addEventListener('error', handleXHRError)\n\n    this[REQUEST_SETUP_KEY] = true\n\n    nativeOpen.apply(this, arguments)\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    restoreFunctions.push(() => {\n      win.XMLHttpRequest.prototype.open = nativeOpen\n    })\n  }\n}\n\nfunction handleXHRLoad () {\n  if (includes(getIgnoredUrls(), this[REQUEST_URL_KEY])) {\n    // don't leave a network breadcrumb from bugsnag notify calls\n    return\n  }\n  const metaData = {\n    status: this.status,\n    request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n  }\n  if (this.status >= 400) {\n    // contacted server but got an error response\n    client.leaveBreadcrumb('XMLHttpRequest failed', metaData, BREADCRUMB_TYPE)\n  } else {\n    client.leaveBreadcrumb('XMLHttpRequest succeeded', metaData, BREADCRUMB_TYPE)\n  }\n}\n\nfunction handleXHRError () {\n  if (includes(getIgnoredUrls, this[REQUEST_URL_KEY])) {\n    // don't leave a network breadcrumb from bugsnag notify calls\n    return\n  }\n  // failed to contact server\n  client.leaveBreadcrumb('XMLHttpRequest error', {\n    request: `${this[REQUEST_METHOD_KEY]} ${this[REQUEST_URL_KEY]}`\n  }, BREADCRUMB_TYPE)\n}\n\n// window.fetch monkey patch\nconst monkeyPatchFetch = () => {\n  // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n  // fetch() results in duplicate breadcrumbs for the same request because the\n  // implementation uses XMLHttpRequest which is also patched)\n  if (!('fetch' in win) || win.fetch.polyfill) return\n\n  const oldFetch = win.fetch\n  win.fetch = function fetch () {\n    const urlOrRequest = arguments[0]\n    const options = arguments[1]\n\n    let method\n    let url = null\n\n    if (urlOrRequest && typeof urlOrRequest === 'object') {\n      url = urlOrRequest.url\n      if (options && 'method' in options) {\n        method = options.method\n      } else if (urlOrRequest && 'method' in urlOrRequest) {\n        method = urlOrRequest.method\n      }\n    } else {\n      url = urlOrRequest\n      if (options && 'method' in options) {\n        method = options.method\n      }\n    }\n\n    if (method === undefined) {\n      method = 'GET'\n    }\n\n    return new Promise((resolve, reject) => {\n      // pass through to native fetch\n      oldFetch(...arguments)\n        .then(response => {\n          handleFetchSuccess(response, method, url)\n          resolve(response)\n        })\n        .catch(error => {\n          handleFetchError(method, url)\n          reject(error)\n        })\n    })\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    restoreFunctions.push(() => {\n      win.fetch = oldFetch\n    })\n  }\n}\n\nconst handleFetchSuccess = (response, method, url) => {\n  const metaData = {\n    status: response.status,\n    request: `${method} ${url}`\n  }\n  if (response.status >= 400) {\n    // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n    client.leaveBreadcrumb('fetch() failed', metaData, BREADCRUMB_TYPE)\n  } else {\n    client.leaveBreadcrumb('fetch() succeeded', metaData, BREADCRUMB_TYPE)\n  }\n}\n\nconst handleFetchError = (method, url) => {\n  client.leaveBreadcrumb('fetch() error', { request: `${method} ${url}` }, BREADCRUMB_TYPE)\n}\n","const { intRange } = require('@bugsnag/core/lib/validators')\n\n/*\n * Throttles and dedupes error reports\n */\n\nmodule.exports = {\n  init: (client) => {\n    // track sent events for each init of the plugin\n    let n = 0\n\n    // add beforeSend hook\n    client.config.beforeSend.push((report) => {\n      // have max events been sent already?\n      if (n >= client.config.maxEvents) return report.ignore()\n      n++\n    })\n\n    client.refresh = () => { n = 0 }\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: () => 10,\n      message: 'should be a positive integer ≤100',\n      validate: val => intRange(1, 100)(val)\n    }\n  }\n}\n","/*\n * Remove query strings (and fragments) from stacktraces\n */\nconst { map } = require('@bugsnag/core/lib/es-utils')\n\nmodule.exports = {\n  init: (client) => {\n    client.config.beforeSend.push(report => {\n      report.stacktrace = map(report.stacktrace, frame => ({ ...frame, file: strip(frame.file) }))\n    })\n  }\n}\n\nconst strip = module.exports._strip = str =>\n  typeof str === 'string'\n    ? str.replace(/\\?.*$/, '').replace(/#.*$/, '')\n    : str\n","/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = {\n  init: (client, win = window) => {\n    function onerror (messageOrEvent, url, lineNo, charNo, error) {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z')\n      } else {\n        // any error sent to window.onerror is unhandled and has severity=error\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n        let report\n\n        // window.onerror can be called in a number of ways. This big if-else is how we\n        // figure out which arguments were supplied, and what kind of values it received.\n\n        if (error) {\n          // if the last parameter (error) was supplied, this is a modern browser's\n          // way of saying \"this value was thrown and not caught\"\n\n          if (error.name && error.message) {\n            // if it looks like an error, construct a report object using its stack\n            report = new client.BugsnagReport(\n              error.name,\n              error.message,\n              decorateStack(client.BugsnagReport.getStacktrace(error), url, lineNo, charNo),\n              handledState,\n              error\n            )\n          } else {\n            // otherwise, for non error values that were thrown, stringify it for\n            // use as the error message and get/generate a stacktrace\n            report = new client.BugsnagReport(\n              'window.onerror',\n              String(error),\n              decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo),\n              handledState,\n              error\n            )\n            // include the raw input as metadata\n            report.updateMetaData('window onerror', { error })\n          }\n        } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          (typeof messageOrEvent === 'object' && messageOrEvent !== null) &&\n          (!url || typeof url !== 'string') &&\n          !lineNo && !charNo && !error\n        ) {\n          // The jQuery event may have a \"type\" property, if so use it as part of the error message\n          const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'window.onerror'\n          // attempt to find a message from one of the conventional properties, but\n          // default to empty string (the report will fill it with a placeholder)\n          const message = messageOrEvent.message || messageOrEvent.detail || ''\n          report = new client.BugsnagReport(\n            name,\n            message,\n            client.BugsnagReport.getStacktrace(new Error(), 1).slice(1),\n            handledState,\n            messageOrEvent\n          )\n          // include the raw input as metadata – it might contain more info than we extracted\n          report.updateMetaData('window onerror', { event: messageOrEvent, extraParameters: url })\n        } else {\n          // Lastly, if there was no \"error\" parameter this event was probably from an old\n          // browser that doesn't support that. Instead we need to generate a stacktrace.\n          report = new client.BugsnagReport(\n            'window.onerror',\n            String(messageOrEvent),\n            decorateStack(client.BugsnagReport.getStacktrace(error, 1), url, lineNo, charNo),\n            handledState,\n            messageOrEvent\n          )\n          // include the raw input as metadata – it might contain more info than we extracted\n          report.updateMetaData('window onerror', { event: messageOrEvent })\n        }\n\n        client.notify(report)\n      }\n\n      if (typeof prevOnError === 'function') prevOnError.apply(this, arguments)\n    }\n\n    const prevOnError = win.onerror\n    win.onerror = onerror\n  }\n}\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  const culprit = stack[0]\n  if (!culprit) return stack\n  if (!culprit.fileName && typeof url === 'string') culprit.setFileName(url)\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.setLineNumber(lineNo)\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.setColumnNumber(charNo)\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.setColumnNumber(window.event.errorCharacter)\n    }\n  }\n  return stack\n}\n\nconst isActualNumber = (n) => typeof n === 'number' && String.call(n) !== 'NaN'\n","const hasStack = require('@bugsnag/core/lib/has-stack')\nconst { reduce } = require('@bugsnag/core/lib/es-utils')\nconst ErrorStackParser = require('@bugsnag/core/lib/error-stack-parser')\nconst isError = require('@bugsnag/core/lib/iserror')\n\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nlet _listener\nexports.init = (client, win = window) => {\n  const listener = event => {\n    let error = event.reason\n    let isBluebird = false\n\n    // accessing properties on event.detail can throw errors (see #394)\n    try {\n      if (event.detail && event.detail.reason) {\n        error = event.detail.reason\n        isBluebird = true\n      }\n    } catch (e) {}\n\n    const handledState = {\n      severity: 'error',\n      unhandled: true,\n      severityReason: { type: 'unhandledPromiseRejection' }\n    }\n\n    let report\n    if (error && hasStack(error)) {\n      // if it quacks like an Error…\n      report = new client.BugsnagReport(error.name, error.message, ErrorStackParser.parse(error), handledState, error)\n      if (isBluebird) {\n        report.stacktrace = reduce(report.stacktrace, fixBluebirdStacktrace(error), [])\n      }\n    } else {\n      // if it doesn't…\n      const msg = 'Rejection reason was not an Error. See \"Promise\" tab for more detail.'\n      report = new client.BugsnagReport(\n        error && error.name ? error.name : 'UnhandledRejection',\n        error && error.message ? error.message : msg,\n        [],\n        handledState,\n        error\n      )\n      // stuff the rejection reason into metaData, it could be useful\n      report.updateMetaData('promise', 'rejection reason', serializableReason(error))\n    }\n\n    client.notify(report)\n  }\n  if ('addEventListener' in win) {\n    win.addEventListener('unhandledrejection', listener)\n  } else {\n    win.onunhandledrejection = (reason, promise) => {\n      listener({ detail: { reason, promise } })\n    }\n  }\n  _listener = listener\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    if (_listener) {\n      if ('addEventListener' in win) {\n        win.removeEventListener('unhandledrejection', _listener)\n      } else {\n        win.onunhandledrejection = null\n      }\n    }\n    _listener = null\n  }\n}\n\nconst serializableReason = (err) => {\n  if (err === null || err === undefined) {\n    return 'undefined (or null)'\n  } else if (isError(err)) {\n    return {\n      [Object.prototype.toString.call(err)]: {\n        name: err.name,\n        message: err.message,\n        code: err.code,\n        stack: err.stack\n      }\n    }\n  } else {\n    return err\n  }\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   […]\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, … }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, … }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, … }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, … }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that too…\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (accum, frame) => {\n  if (frame.file === error.toString()) return accum\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n  return accum.concat(frame)\n}\n","const name = 'Bugsnag JavaScript'\nconst version = '6.5.2'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\n\nconst Client = require('@bugsnag/core/client')\nconst Report = require('@bugsnag/core/report')\nconst Session = require('@bugsnag/core/session')\nconst Breadcrumb = require('@bugsnag/core/breadcrumb')\n\n// extend the base config schema with some browser-specific options\nconst schema = { ...require('@bugsnag/core/config').schema, ...require('./config') }\n\nconst pluginWindowOnerror = require('@bugsnag/plugin-window-onerror')\nconst pluginUnhandledRejection = require('@bugsnag/plugin-window-unhandled-rejection')\nconst pluginDevice = require('@bugsnag/plugin-browser-device')\nconst pluginContext = require('@bugsnag/plugin-browser-context')\nconst pluginRequest = require('@bugsnag/plugin-browser-request')\nconst pluginThrottle = require('@bugsnag/plugin-simple-throttle')\nconst pluginConsoleBreadcrumbs = require('@bugsnag/plugin-console-breadcrumbs')\nconst pluginNetworkBreadcrumbs = require('@bugsnag/plugin-network-breadcrumbs')\nconst pluginNavigationBreadcrumbs = require('@bugsnag/plugin-navigation-breadcrumbs')\nconst pluginInteractionBreadcrumbs = require('@bugsnag/plugin-interaction-breadcrumbs')\nconst pluginInlineScriptContent = require('@bugsnag/plugin-inline-script-content')\nconst pluginSession = require('@bugsnag/plugin-browser-session')\nconst pluginIp = require('@bugsnag/plugin-client-ip')\nconst pluginStripQueryString = require('@bugsnag/plugin-strip-query-string')\n\n// delivery mechanisms\nconst dXDomainRequest = require('@bugsnag/delivery-x-domain-request')\nconst dXMLHttpRequest = require('@bugsnag/delivery-xml-http-request')\n\nmodule.exports = (opts) => {\n  // handle very simple use case where user supplies just the api key as a string\n  if (typeof opts === 'string') opts = { apiKey: opts }\n\n  // support renamed/deprecated options\n\n  let warningMessage = ''\n\n  if (opts.endpoints && opts.endpoints.notify && !opts.endpoints.sessions) {\n    warningMessage += 'notify endpoint is set but sessions endpoint is not. No sessions will be sent.'\n  }\n\n  const bugsnag = new Client({ name, version, url })\n\n  bugsnag.setOptions(opts)\n\n  // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n  bugsnag.delivery(window.XDomainRequest ? dXDomainRequest : dXMLHttpRequest)\n\n  // configure with user supplied options\n  // errors can be thrown here that prevent the lib from being in a useable state\n  bugsnag.configure(schema)\n\n  if (warningMessage) bugsnag._logger.warn(warningMessage)\n\n  // always-on browser-specific plugins\n  bugsnag.use(pluginDevice)\n  bugsnag.use(pluginContext)\n  bugsnag.use(pluginRequest)\n  bugsnag.use(pluginThrottle)\n  bugsnag.use(pluginSession)\n  bugsnag.use(pluginIp)\n  bugsnag.use(pluginStripQueryString)\n\n  // optional browser-specific plugins\n\n  if (bugsnag.config.autoNotify !== false) {\n    bugsnag.use(pluginWindowOnerror)\n    bugsnag.use(pluginUnhandledRejection)\n  }\n\n  bugsnag.use(pluginNavigationBreadcrumbs)\n  bugsnag.use(pluginInteractionBreadcrumbs)\n  bugsnag.use(pluginNetworkBreadcrumbs)\n  bugsnag.use(pluginConsoleBreadcrumbs)\n\n  // this one added last to avoid wrapping functionality before bugsnag uses it\n  bugsnag.use(pluginInlineScriptContent)\n\n  bugsnag._logger.debug(`Loaded!`)\n\n  return bugsnag.config.autoCaptureSessions\n    ? bugsnag.startSession()\n    : bugsnag\n}\n\n// Angular's DI system needs this interface to match what is exposed\n// in the type definition file (types/bugsnag.d.ts)\nmodule.exports.Bugsnag = {\n  Client,\n  Report,\n  Session,\n  Breadcrumb\n}\n\n// Export a \"default\" property for compatibility with ESM imports\nmodule.exports['default'] = module.exports\n","\nreturn _$notifier_2;\n\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}