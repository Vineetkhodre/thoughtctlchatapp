{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Video = void 0;\nconst jwt_1 = require(\"@vonage/jwt\");\nconst MediaMode_1 = require(\"./interfaces/MediaMode\");\nconst ArchiveMode_1 = require(\"./interfaces/ArchiveMode\");\nconst server_client_1 = require(\"@vonage/server-client\");\nclass Video extends server_client_1.Client {\n  authType = server_client_1.AuthenticationType.JWT;\n  async addArchiveStream(archiveId, streamId, audio = true, video = true) {\n    const data = {\n      addStream: streamId,\n      hasAudio: audio,\n      hasVideo: video\n    };\n    await this.sendPatchRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}/stream`, data);\n  }\n  async addStreamToBroadcast(broadcastId, streamId) {\n    await this.updateBroadcast({\n      broadcastId,\n      addStream: streamId\n    });\n  }\n  async connectToWebsocket(sessionId, clientToken, config) {\n    const data = {\n      sessionId,\n      token: clientToken,\n      websocket: config\n    };\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/connect`, data);\n    return resp.data;\n  }\n  async createSession(sessionOptions) {\n    const data = {\n      archiveMode: sessionOptions?.archiveMode ?? ArchiveMode_1.ArchiveMode.MANUAL,\n      'p2p.preference': sessionOptions?.mediaMode ?? MediaMode_1.MediaMode.ROUTED,\n      location: sessionOptions?.location ?? null\n    };\n    const resp = await this.sendFormSubmitRequest(`${this.config.videoHost}/session/create`, data);\n    return {\n      sessionId: resp.data[0].session_id,\n      archiveMode: data.archiveMode,\n      mediaMode: data['p2p.preference'],\n      location: data.location\n    };\n  }\n  async deleteArchive(archiveId) {\n    await this.sendDeleteRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}`);\n  }\n  async disableCaptions(captionId) {\n    await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/captions/${captionId}/stop`);\n  }\n  async disableForceMute(sessionId, excludedStreamIds = []) {\n    return this.muteAllStreams(sessionId, false, excludedStreamIds);\n  }\n  async disconnectClient(sessionId, connectionId) {\n    await this.sendDeleteRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/connection/${connectionId}`);\n  }\n  async disconnectWebsocket(callId) {\n    await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/connect/${callId}/stop`);\n  }\n  async enableCaptions(sessionId, clientToken, captionOptions = {}) {\n    const data = Object.assign({}, {\n      sessionId,\n      token: clientToken\n    }, captionOptions);\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/captions`, data);\n    return resp.data;\n  }\n  async forceMuteAll(sessionId, excludedStreamIds = []) {\n    return this.muteAllStreams(sessionId, true, excludedStreamIds);\n  }\n  generateClientToken(sessionId, tokenOptions) {\n    const now = Math.round(new Date().getTime() / 1000);\n    const claims = {\n      scope: 'session.connect',\n      session_id: sessionId,\n      role: 'publisher',\n      initial_layout_class_list: '',\n      sub: 'video',\n      acl: {\n        paths: {\n          '/session/**': {}\n        }\n      }\n    };\n    if (tokenOptions?.role) {\n      claims.role = tokenOptions.role;\n    }\n    if (tokenOptions?.data) {\n      claims.connection_data = tokenOptions.data;\n    }\n    if (tokenOptions?.initialLayoutClassList) {\n      claims.initial_layout_class_list = tokenOptions.initialLayoutClassList.join(' ');\n    }\n    if (tokenOptions?.expireTime && tokenOptions.expireTime > now) {\n      claims.exp = tokenOptions.expireTime;\n    }\n    return (0, jwt_1.tokenGenerate)(this.auth.applicationId, this.auth.privateKey, claims);\n  }\n  async getArchive(archiveId) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}`);\n    return resp.data;\n  }\n  async getBroadcast(broadcastId) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/broadcast/${broadcastId}`);\n    return resp.data;\n  }\n  async getCaptionStatus(captionId) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/captions/${captionId}`);\n    return resp.data;\n  }\n  async getExperienceComposerRender(renderId) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/render/${renderId}`);\n    return resp.data;\n  }\n  async getStreamInfo(sessionId, streamId) {\n    let url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/stream`;\n    if (streamId) {\n      url = url + `/${streamId}`;\n    }\n    let resp;\n    if (streamId) {\n      resp = await this.sendGetRequest(url);\n    } else {\n      resp = await this.sendGetRequest(url);\n    }\n    return resp.data;\n  }\n  stripBlankValues(obj) {\n    for (const key in obj) {\n      if (typeof obj[key] === 'object' && obj[key] !== null) {\n        this.stripBlankValues(obj[key]);\n      } else if (obj[key] === '') {\n        delete obj[key];\n      }\n    }\n    return obj;\n  }\n  async intiateSIPCall(sessionId, options) {\n    let data = Object.assign({}, {\n      sessionId\n    }, options);\n    const url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/dial`;\n    // Fixes a bug found during integration\n    // where blank values are treated differently than null values\n    data = this.stripBlankValues(data);\n    const resp = await this.sendPostRequest(url, data);\n    return resp.data;\n  }\n  async listExperienceComposerRenders(filter) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/render`, filter);\n    return resp.data;\n  }\n  async muteAllStreams(sessionId, active, excludedStreamIds = []) {\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/mute`, {\n      active,\n      excludedStreamIds\n    });\n    return resp.data;\n  }\n  async muteStream(sessionId, streamId) {\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/stream/${streamId}/mute`);\n    return resp.data;\n  }\n  async playDTMF(sessionId, digits, connectionId) {\n    let url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/play-dtmf`;\n    if (connectionId) {\n      url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/connection/${connectionId}/play-dtmf`;\n    }\n    await this.sendPostRequest(url, {\n      digits\n    });\n  }\n  async removeArchiveStream(archiveId, streamId) {\n    await this.sendPatchRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}/stream`, {\n      removeStream: streamId\n    });\n  }\n  async removeStreamFromBroadcast(broadcastId, streamId) {\n    await this.updateBroadcast({\n      broadcastId,\n      removeStream: streamId\n    });\n  }\n  async searchArchives(filter) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive`, filter);\n    return resp.data;\n  }\n  async searchBroadcasts(filter) {\n    const resp = await this.sendGetRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/broadcast/`, filter);\n    return resp.data;\n  }\n  async sendSignal(signal, sessionId, connectionId) {\n    let url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/signal`;\n    if (connectionId) {\n      url = `${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/connection/${connectionId}/signal`;\n    }\n    await this.sendPostRequest(url, signal);\n  }\n  async setStreamClassLists(sessionId, settings) {\n    await this.sendPutRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/session/${sessionId}/stream`, {\n      items: settings\n    });\n  }\n  async startArchive(sessionId, options) {\n    const data = Object.assign({}, {\n      sessionId\n    }, options);\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive`, data);\n    return resp.data;\n  }\n  async startBroadcast(sessionId, config) {\n    const data = Object.assign({}, {\n      sessionId\n    }, config);\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/broadcast/`, data);\n    return resp.data;\n  }\n  async startExperienceComposerRender(sessionId, token, config) {\n    const data = Object.assign({}, {\n      sessionId,\n      token\n    }, config);\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/render`, data);\n    return resp.data;\n  }\n  async stopArchive(archiveId) {\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}/stop`);\n    return resp.data;\n  }\n  async stopBroadcast(broadcastId) {\n    const resp = await this.sendPostRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/broadcast/${broadcastId}/stop`);\n    return resp.data;\n  }\n  async stopExperienceComposerRender(renderId) {\n    await this.sendDeleteRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/render/${renderId}`);\n  }\n  async updateArchiveLayout(archiveId, layout) {\n    const resp = await this.sendPutRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/archive/${archiveId}/layout`, layout);\n    return resp.data;\n  }\n  async updateBroadcast(config) {\n    await this.sendPatchRequest(`${this.config.videoHost}/v2/project/${this.auth.applicationId}/broadcast/${config.broadcastId}/streams`, config);\n  }\n}\nexports.Video = Video;","map":{"version":3,"names":["jwt_1","require","MediaMode_1","ArchiveMode_1","server_client_1","Video","Client","authType","AuthenticationType","JWT","addArchiveStream","archiveId","streamId","audio","video","data","addStream","hasAudio","hasVideo","sendPatchRequest","config","videoHost","auth","applicationId","addStreamToBroadcast","broadcastId","updateBroadcast","connectToWebsocket","sessionId","clientToken","token","websocket","resp","sendPostRequest","createSession","sessionOptions","archiveMode","ArchiveMode","MANUAL","mediaMode","MediaMode","ROUTED","location","sendFormSubmitRequest","session_id","deleteArchive","sendDeleteRequest","disableCaptions","captionId","disableForceMute","excludedStreamIds","muteAllStreams","disconnectClient","connectionId","disconnectWebsocket","callId","enableCaptions","captionOptions","Object","assign","forceMuteAll","generateClientToken","tokenOptions","now","Math","round","Date","getTime","claims","scope","role","initial_layout_class_list","sub","acl","paths","connection_data","initialLayoutClassList","join","expireTime","exp","tokenGenerate","privateKey","getArchive","sendGetRequest","getBroadcast","getCaptionStatus","getExperienceComposerRender","renderId","getStreamInfo","url","stripBlankValues","obj","key","intiateSIPCall","options","listExperienceComposerRenders","filter","active","muteStream","playDTMF","digits","removeArchiveStream","removeStream","removeStreamFromBroadcast","searchArchives","searchBroadcasts","sendSignal","signal","setStreamClassLists","settings","sendPutRequest","items","startArchive","startBroadcast","startExperienceComposerRender","stopArchive","stopBroadcast","stopExperienceComposerRender","updateArchiveLayout","layout","exports"],"sources":["../lib/video.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}