{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\n * Nexmo Client SDK\n *  SIP Events Handler\n *\n * Copyright (c) Nexmo Inc.\n */\nconst loglevel_1 = require(\"loglevel\");\n/**\n * Handle sip Events\n *\n * @class SipEventHandler\n * @private\n  */\nclass SipEventHandler {\n  constructor(application) {\n    this.log = loglevel_1.getLogger(this.constructor.name);\n    this.application = application;\n    this._handleSipCallEventMap = {\n      'sip:hangup': this._processSipHangup,\n      'sip:ringing': this._processSipRinging\n    };\n  }\n  /**\n   * Entry point for sip events\n   * The event belongs to a call Object\n   * @private\n  */\n  _handleSipCallEvent(event) {\n    this.log.debug(\"_handleSipCallEvent: \", {\n      event\n    });\n    if (!this.application.calls.has(event.cid)) {\n      this.log.warn('There is no call object for this Conversation id.');\n      return;\n    }\n    const event_call = this.application.calls.get(event.cid);\n    if (this._handleSipCallEventMap.hasOwnProperty(event.type)) {\n      return this._handleSipCallEventMap[event.type].call(this, event_call, event);\n    }\n  }\n  /**\n   * Handle sip:hangup event\n   *\n   * @param {object} event_call\n   * @private\n   */\n  _processSipHangup(event_call, event) {\n    this.log.debug(\"_processSipHangup: \", event);\n    event_call._handleStatusChange(event);\n  }\n  /**\n   * Handle sip:ringing event\n   *\n   * @param {object} event_call\n   * @private\n   */\n  _processSipRinging(event_call, event) {\n    this.log.debug(\"_processSipRinging: \", event);\n    event_call._handleStatusChange(event);\n  }\n}\nexports.default = SipEventHandler;\nmodule.exports = SipEventHandler;","map":{"version":3,"names":["Object","defineProperty","exports","value","loglevel_1","require","SipEventHandler","constructor","application","log","getLogger","name","_handleSipCallEventMap","_processSipHangup","_processSipRinging","_handleSipCallEvent","event","debug","calls","has","cid","warn","event_call","get","hasOwnProperty","type","call","_handleStatusChange","default","module"],"sources":["/Users/vineetkhodre/react-workspace/thoughtctlchatapp/client/node_modules/nexmo-client/dist/handlers/sip_events.js"],"sourcesContent":["'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Nexmo Client SDK\n *  SIP Events Handler\n *\n * Copyright (c) Nexmo Inc.\n */\nconst loglevel_1 = require(\"loglevel\");\n/**\n * Handle sip Events\n *\n * @class SipEventHandler\n * @private\n  */\nclass SipEventHandler {\n    constructor(application) {\n        this.log = loglevel_1.getLogger(this.constructor.name);\n        this.application = application;\n        this._handleSipCallEventMap = {\n            'sip:hangup': this._processSipHangup,\n            'sip:ringing': this._processSipRinging\n        };\n    }\n    /**\n     * Entry point for sip events\n     * The event belongs to a call Object\n     * @private\n    */\n    _handleSipCallEvent(event) {\n        this.log.debug(\"_handleSipCallEvent: \", { event });\n        if (!this.application.calls.has(event.cid)) {\n            this.log.warn('There is no call object for this Conversation id.');\n            return;\n        }\n        const event_call = this.application.calls.get(event.cid);\n        if (this._handleSipCallEventMap.hasOwnProperty(event.type)) {\n            return this._handleSipCallEventMap[event.type].call(this, event_call, event);\n        }\n    }\n    /**\n     * Handle sip:hangup event\n     *\n     * @param {object} event_call\n     * @private\n     */\n    _processSipHangup(event_call, event) {\n        this.log.debug(\"_processSipHangup: \", event);\n        event_call._handleStatusChange(event);\n    }\n    /**\n     * Handle sip:ringing event\n     *\n     * @param {object} event_call\n     * @private\n     */\n    _processSipRinging(event_call, event) {\n        this.log.debug(\"_processSipRinging: \", event);\n        event_call._handleStatusChange(event);\n    }\n}\nexports.default = SipEventHandler;\nmodule.exports = SipEventHandler;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,UAAU,GAAGC,OAAO,CAAC,UAAU,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,eAAe,CAAC;EAClBC,WAAWA,CAACC,WAAW,EAAE;IACrB,IAAI,CAACC,GAAG,GAAGL,UAAU,CAACM,SAAS,CAAC,IAAI,CAACH,WAAW,CAACI,IAAI,CAAC;IACtD,IAAI,CAACH,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACI,sBAAsB,GAAG;MAC1B,YAAY,EAAE,IAAI,CAACC,iBAAiB;MACpC,aAAa,EAAE,IAAI,CAACC;IACxB,CAAC;EACL;EACA;AACJ;AACA;AACA;AACA;EACIC,mBAAmBA,CAACC,KAAK,EAAE;IACvB,IAAI,CAACP,GAAG,CAACQ,KAAK,CAAC,uBAAuB,EAAE;MAAED;IAAM,CAAC,CAAC;IAClD,IAAI,CAAC,IAAI,CAACR,WAAW,CAACU,KAAK,CAACC,GAAG,CAACH,KAAK,CAACI,GAAG,CAAC,EAAE;MACxC,IAAI,CAACX,GAAG,CAACY,IAAI,CAAC,mDAAmD,CAAC;MAClE;IACJ;IACA,MAAMC,UAAU,GAAG,IAAI,CAACd,WAAW,CAACU,KAAK,CAACK,GAAG,CAACP,KAAK,CAACI,GAAG,CAAC;IACxD,IAAI,IAAI,CAACR,sBAAsB,CAACY,cAAc,CAACR,KAAK,CAACS,IAAI,CAAC,EAAE;MACxD,OAAO,IAAI,CAACb,sBAAsB,CAACI,KAAK,CAACS,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,EAAEJ,UAAU,EAAEN,KAAK,CAAC;IAChF;EACJ;EACA;AACJ;AACA;AACA;AACA;AACA;EACIH,iBAAiBA,CAACS,UAAU,EAAEN,KAAK,EAAE;IACjC,IAAI,CAACP,GAAG,CAACQ,KAAK,CAAC,qBAAqB,EAAED,KAAK,CAAC;IAC5CM,UAAU,CAACK,mBAAmB,CAACX,KAAK,CAAC;EACzC;EACA;AACJ;AACA;AACA;AACA;AACA;EACIF,kBAAkBA,CAACQ,UAAU,EAAEN,KAAK,EAAE;IAClC,IAAI,CAACP,GAAG,CAACQ,KAAK,CAAC,sBAAsB,EAAED,KAAK,CAAC;IAC7CM,UAAU,CAACK,mBAAmB,CAACX,KAAK,CAAC;EACzC;AACJ;AACAd,OAAO,CAAC0B,OAAO,GAAGtB,eAAe;AACjCuB,MAAM,CAAC3B,OAAO,GAAGI,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}